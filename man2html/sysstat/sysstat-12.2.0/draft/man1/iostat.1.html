<HTML>
  <HEAD>
  <META CHARSET="UTF-8"/>
  <META HTTP-QUIV="Content-Type" CONTENT="text/html; charset=UTF-8"/>
  <LINK REL="stylesheet" TYPE="text/css"
	    HREF="../../../../css/jm-draft.css"/>
  <TITLE>Manpage of IOSTAT</TITLE>
</HEAD><BODY>
<H1>IOSTAT</H1>
Section: Linux User's Manual (1)<BR>Updated: NOVEMBER 2018<BR><A HREF="#index">Index</A>
<A HREF="https://github.com/ysatoautonomous/jm-draft/wiki">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>



iostat - 中央演算装置 (CPU) の統計と、
デバイスとパーティションの入出力の統計をレポートする。

<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>



<B>iostat [ -c ] [ -d ] [ -h ] [ -k | -m ] [ -N ] [ -s ] [ -t ] [ -V ] [ -x ] [ -y ] [ -z ]</B>


<B>[ --dec={ 0 | 1 | 2 } ] [ -j { ID | LABEL | PATH | UUID | ... } ] [ -o JSON ]</B>


<B>[ [ -H ] -g</B>


<I>group_name</I>


<B>] [ --human ] [ -p [</B>


<I>device</I>


<B>[,...] | ALL ] ] [</B>


<I>device</I>


<B>[...] | ALL ] [</B>


<I>interval</I>


<B>[</B>


<I>count</I>


<B>] ]</B>





<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>










<B>iostat</B>

コマンドはシステムの入出力デバイス負荷をモニタリングするのに使う。
負荷として、平均転送レートに関連するデバイスがアクティブな時間を計測する。
<B>iostat</B>

は、物理ディスク間の入出力負荷のバランスをよくするための
システム設定の変更に使えるレポートを生成する。
<P>






<B>iostat</B>

が生成する最初のレポートは、
<B>-y</B>

オプション (この場合、最初のレポートを省略する) が指定されない限り、
システムがブートしてからの時間に関しての統計を提供する。










それに続くレポートは、その前のレポートからの時間をカバーしている。
<B>iostat</B>

が実行されるたびに、すべての統計がレポートされる。
レポートは CPU ヘッダ行に続いて、CPU 統計の行が表示される。
複数プロセッサのシステムでは、CPU 統計はシステム全体のすべての
プロセッサの平均が計算される。
デバイスヘッダ行に続いて、設定された各デバイスの統計行が表示される。
<P>




















<I>interval</I>

パラメータは各レポート間の時間を指定する。
<I>count</I>

パラメータは
<I>interval</I>

パラメータと組み合わせて使われる。
<I>count</I>

パラメータが指定されると、
<I>count</I>

は
<I>interval</I>

秒ごとに生成される回数を決定する。
<I>count</I>

パラメータを指定せずに
<I>interval</I>

パラメータを指定すると、
<B>iostat</B>

コマンドは連続してレポートを生成する。
<P>

<A NAME="lbAE">&nbsp;</A>
<H2>レポート</H2>





<B>iostat</B>

は、CPU 利用レポートとデバイス利用レポートの 2 つを生成する。

<DL COMPACT>
<DT>CPU 利用レポート<DD>





<B>iostat</B>

コマンドで生成される最初のレポートは、
CPU 利用レポートである。
複数プロセッサのシステムでは、
CPU の値はすべてのプロセッサの全体の平均である。

レポートは以下のフォーマットである。
<P>
<B>%user</B>

<DL COMPACT><DT><DD>
<DL COMPACT><DT><DD>


ユーザレベル (アプリケーション) の実行で発生する CPU 利用の割合。
</DL>

<P>
<B>%nice</B>

<DL COMPACT><DT><DD>


nice 優先度が指定されたユーザレベル (アプリケーション) の
実行で発生する CPU 利用の割合。
</DL>

<P>
<B>%system</B>

<DL COMPACT><DT><DD>


システムレベル (カーネル) の実行で発生する CPU 利用の割合。
</DL>

<P>
<B>%iowait</B>

<DL COMPACT><DT><DD>


システムに目立ったディスク I/O リクエストがあり、
CPU (群) がアイドル状態であった時間の割合。
</DL>

<P>
<B>%steal</B>

<DL COMPACT><DT><DD>


ハイパーバイザーが他の仮想プロセッサに
サービスを行っているために、
仮想 CPU (群) が不本意に待たされている時間の割合。
</DL>

<P>
<B>%idle</B>

<DL COMPACT><DT><DD>


CPU (群) がアイドル状態でシステムに目立った
ディスク I/O リクエストがなかった時間の割合。
</DL>

</DL>


<DT>デバイス利用レポート<DD>






<B>iostat</B>

コマンドが生成する 2 つ目のレポートは、
デバイス利用レポートである。
デバイスレポートは、物理デバイスまたはパーティションベースの
統計を提供する。
統計を表示するデバイスまたはパーティションは、
コマンドラインから指定できる。




デバイスとパーティションが指定されない場合、
カーネルが統計を保持していて、
かつシステムで使われているすべてのデバイスの統計が表示される。





<B>ALL</B>

キーワードがコマンドラインから指定された場合、
使用されていないデバイスを含めて、全てのデバイスの統計が表示される。




環境変数 POSIXLY_CORRECT が指定されない限り、
転送レートは 1K ブロックをデフォルトとして表示される。
環境変数 POSIXLY_CORRECT が指定されると、
512 バイトブロックが使われる。
使用されるフラグに依存して、以下のフィールドがレポートに表示される。
<P>
<B>Device:</B>

<DL COMPACT><DT><DD>
<DL COMPACT><DT><DD>


この列は /dev ディレクトリにリストされている
デバイス (またはパーティション) 名を表示する。
<P>
</DL>

<B>tps</B>

<DL COMPACT><DT><DD>




1 秒あたりにデバイスに発行された転送回数。
転送はデバイスへの I/O リクエストである。
複数の論理リクエストがデバイスへの
1 つの I/O リクエストにまとめられる場合もある。
転送サイズは不定である。
<P>
</DL>

<B>Blk_read/s (kB_read/s, MB_read/s)</B>

<DL COMPACT><DT><DD>



1 秒あたりのデバイスからの読み込みデータのブロック数 (キロバイト数、メガバイト数)。
ブロックはセクターと等価で、サイズは 512 バイトである。
<P>
</DL>

<B>Blk_wrtn/s (kB_wrtn/s, MB_wrtn/s)</B>

<DL COMPACT><DT><DD>


1 秒あたりのデバイスへのの書き込みデータのブロック数 (キロバイト数、メガバイト数)。
<P>
</DL>

<B>Blk_dscd/s (kB_dscd/s, MB_dscd/s)</B>

<DL COMPACT><DT><DD>


1 秒あたりのデバイスから破棄されたデータのブロック数 (キロバイト数、メガバイト数)。
<P>
</DL>

<B>Blk_read (kB_read, MB_read)</B>

<DL COMPACT><DT><DD>

読み込みの総計ブロック数 (キロバイト数、メガバイト数)。
<P>
</DL>

<B>Blk_wrtn (kB_wrtn, MB_wrtn)</B>

<DL COMPACT><DT><DD>

書き込みの総計ブロック数 (キロバイト数、メガバイト数)。
<P>
</DL>

<B>Blk_dscd (kB_dscd, MB_dscd)</B>

<DL COMPACT><DT><DD>

破棄された総計ブロック数 (キロバイト数、メガバイト数)。
<P>
</DL>

<B>r/s</B>

<DL COMPACT><DT><DD>

1 秒あたりの (マージ後の) デバイスからの読み込みが完了したリクエスト数。
<P>
</DL>

<B>w/s</B>

<DL COMPACT><DT><DD>

1 秒あたりの (マージ後の) デバイスへの書き込みが完了したリクエスト数。
<P>
</DL>

<B>d/s</B>

<DL COMPACT><DT><DD>

1 秒あたりの (マージ後の) デバイスからの破棄が完了したリクエスト数。
<P>
</DL>

<B>sec/s (kB/s, MB/s)</B>

<DL COMPACT><DT><DD>


1 秒あたりのデバイスに対する読み込みと書き出しと破棄のセクタ数 (キロバイト数、メガバイト数)。
<P>
</DL>

<B>rsec/s (rkB/s, rMB/s)</B>

<DL COMPACT><DT><DD>

1 秒あたりのデバイスからの読み込みセクタ数 (キロバイト数、メガバイト数)。
<P>
</DL>

<B>wsec/s (wkB/s, wMB/s)</B>

<DL COMPACT><DT><DD>

1 秒あたりのデバイスへの書き出しセクタ数 (キロバイト数、メガバイト数)。
<P>
</DL>

<B>dsec/s (dkB/s, dMB/s)</B>

<DL COMPACT><DT><DD>

1 秒あたりのデバイスから破棄されたセクタ数 (キロバイト数、メガバイト数)。
<P>
</DL>

<B>rqm/s</B>

<DL COMPACT><DT><DD>

1 秒あたりのデバイスにキューイングされたマージされた I/O リクエスト数。
<P>
</DL>

<B>rrqm/s</B>

<DL COMPACT><DT><DD>

1 秒あたりのデバイスにキューイングされたマージされた
読み込みリクエスト数。
<P>
</DL>

<B>wrqm/s</B>

<DL COMPACT><DT><DD>

1 秒あたりのデバイスにキューイングされたマージされた
書き込みリクエスト数。
<P>
</DL>

<B>drqm/s</B>

<DL COMPACT><DT><DD>

1 秒あたりのデバイスにキューイングされたマージされた
破棄リクエスト数。
<P>
</DL>

<B>%rrqm</B>

<DL COMPACT><DT><DD>

デバイスに送られる前にマージされた読み込みリクエストの割合。
<P>
</DL>

<B>%wrqm</B>

<DL COMPACT><DT><DD>

デバイスに送られる前にマージされた書き込みリクエストの割合。
<P>
</DL>

<B>%drqm</B>

<DL COMPACT><DT><DD>

デバイスに送られる前にマージされた破棄リクエストの割合。
<P>
</DL>

<B>areq-sz</B>

<DL COMPACT><DT><DD>

デバイスに発行した I/O リクエストの平均サイズ (キロバイト)。
<BR>



以前のバージョンでは、このフィールドは avgrq-sz であり、セクタ数を表していた。
<P>
</DL>

<B>rareq-sz</B>

<DL COMPACT><DT><DD>


デバイスに発行した読み込みリクエストの平均サイズ (キロバイト)。
<P>
</DL>

<B>wareq-sz</B>

<DL COMPACT><DT><DD>


デバイスに発行した書き込みリクエストの平均サイズ (キロバイト)。
<P>
</DL>

<B>dareq-sz</B>

<DL COMPACT><DT><DD>


デバイスに発行した破棄リクエストの平均サイズ (キロバイト)。
<P>
</DL>

<B>await</B>

<DL COMPACT><DT><DD>



デバイスに発行した I/O リクエストが処理されるまでの平均時間 (ミリ秒)。
この時間には、リクエストがキューに入っている時間と、
処理される時間が含まれる。
<P>
</DL>

<B>r_await</B>

<DL COMPACT><DT><DD>



デバイスに発行した読み込みリクエストが処理されるまでの
平均時間 (ミリ秒)。
この時間には、リクエストがキューに入っている時間と、
処理される時間が含まれる。
<P>
</DL>

<B>w_await</B>

<DL COMPACT><DT><DD>



デバイスに発行した書き込みリクエストが処理されるまでの
平均時間 (ミリ秒)。
この時間には、リクエストがキューに入っている時間と、
処理される時間が含まれる。
<P>
</DL>

<B>d_await</B>

<DL COMPACT><DT><DD>



デバイスに発行した破棄リクエストが処理されるまでの
平均時間 (ミリ秒)。
この時間には、リクエストがキューに入っている時間と、
処理される時間が含まれる。
<P>
</DL>

<B>aqu-sz</B>

<DL COMPACT><DT><DD>

デバイスに発行したリクエストの平均のキューの長さ。
<BR>


以前のバージョンでは、このフィールドは avgqu-sz であった。
<P>
</DL>

<B>%util</B>

<DL COMPACT><DT><DD>





デバイスに I/O リクエストが発行される経過時間の割合 (デバイスのバンド幅使用率)。
リクエストに対してデバイスがシリアルにサービスする場合、
この値が 100% に近いとデバイスの飽和が起こっている。
RAID アレイや最近の SSD のように、リクエストに対して
デバイスがパラレルにサービスする場合、
この値は性能限界を反映しない。
</DL>

</DL>


</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>オプション</H2>

<DL COMPACT>
<DT>-c<DD>

CPU 利用レポートを表示する。
<DT>-d<DD>

デバイス利用レポートを表示する。

<DT>--dec={ 0 | 1 | 2 }<DD>

使用する小数点の位置を指定する (0 から 2 で、デフォルトは 2 である)。
<DT>-g group_name { device [...] | ALL }<DD>

デバイスのグループの統計を表示する。









<B>iostat</B>

はリストにある各デバイスの統計をレポートしてから、
リストにあるすべてのデバイスを合わせて
<B>group_name</B>

という名前の統計の行を表示する。
<B>ALL</B>

キーワードは、システムに定義されている
すべてのブロックデバイスをグループに含めることを意味する。
<DT>-H<DD>



このオプションは -g オプションと一緒に指定しなければならない。
このオプションを指定すると、グループ全体の統計が表示されるが、
グループの各デバイスの統計は表示されない。
<DT>-h<DD>



デバイス利用レポートを人間が読みやすいようにする。
このオプションは、
<B>--human</B>

を暗黙裡に有効にする。
<DT>--human<DD>



サイズを人間が読みやすいフォーマット (例えば 1.0k, 1.2M など) で表示する。
このオプションで表示される単位は、指標に紐付けられたデフォルトの単位
(例えば、キロバイト、セクターなど) を上書きする。
<DT>-j { ID | LABEL | PATH | UUID | ... } [ device [...] | ALL ]<DD>






永続的なデバイス名を表示する。
オプション
<B>ID</B>,

<B>LABEL</B>

などで、永続的なデバイス名のタイプを指定する。
このオプションは限定的ではなく、唯一の必須条件は
<I>/dev/disk</I>

のディレクトリに永続的なデバイス名が存在することである。


永続デバイス名は通常長いため、
オプションとして、選択した永続名で複数デバイスを指定できる。
<DT>-k<DD>

1 秒あたりのキロバイトで統計を表示する。
<DT>-m<DD>

1 秒あたりのメガバイトで統計を表示する。
<DT>-N<DD>


登録されたデバイスマッパーのデバイスについて、
デバイスマッパー名を表示する。
LVM2 統計を閲覧するのに役立つ。
<DT>-o JSON<DD>

統計を JSON (Javascript Object Notation) 形式で表示する。


JSON 出力のフィールド順は定義されておらず、
将来新しいフィールドが追加されるかもしれない。
<DT>-p [ { device [,...] | ALL } ]<DD>


-p オプションはシステムで使われているブロックデバイスと
すべてのパーティションの統計を表示する。









デバイス名がコマンドラインで指定された場合、
そのデバイスとすべてのパーティションが表示される。
<B>ALL</B>

キーワードは、使用されていないブロックデバイスを含む、
システムで定義されているすべてのブロックデバイスと
パーティションの統計を表示する。
このオプションより前に、オプション
<B>-j</B>

が定義されていると、コマンドラインで入力されるデバイスは、
選択された永続名タイプで指定できる。
<DT>-s<DD>


80 文字幅の画面に合うように、短い (狭い) バージョンのレポートを表示する。
<DT>-t<DD>


各レポートで時間を表示する。
タイムスタンプの形式は、S_TIME_FORMAT 環境変数の値に依存する
(下記を参照)。
<DT>-V<DD>

バージョン番号を表示して、終了する。
<DT>-x<DD>

拡張された統計を表示する。
<DT>-y<DD>


指定された間隔で複数レコードを表示する場合、
システムブートからの統計の最初のレポートを省略する。
<DT>-z<DD>




<B>iostat</B>

に対して、サンプリング期間に活動がないデバイスを出力から省略させる。
<P>

</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>環境変数</H2>




<B>iostat</B>

コマンドは以下の環境変数を扱う。
<P>
<DL COMPACT>
<DT>POSIXLY_CORRECT<DD>


この環境変数が設定されると、転送レートが 1K ブロックではなく、
512 バイトブロックで表示される。
<P>
<DT>S_COLORS<DD>

この環境変数を設定すると、端末上で統計をカラー表示する。






この環境変数に指定可能な値は、
<I>never</I>,

<I>always</I>,

<I>auto</I>

である (最後がデフォルトである)。
<P>



値を表示する色 (赤、黄、またはその他の色) は、色によって何かの意味を示している訳ではない。
色は値の範囲を示しているだけである。
<P>
<DT>S_COLORS_SGR<DD>




端末で統計を表示する際に、色とその他の属性を指定する。
この値は、コロン区切りの機能のリストで、デフォルトは
<B>H=31;1:I=32;22:M=35;1:N=34;1:Z=34;22</B>

である。
サポートされている機能は以下のとおり。
<P>
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>H=</B>

<DD>

割合が 75% 以上の場合の SGR (Select Graphic Rendition) 部分文字列。
<P>
<DT><B>I=</B>

<DD>

デバイス名を表示する SGR 部分文字列。
<P>
<DT><B>M=</B>

<DD>

割合が 50% から 75% の場合の SGR 部分文字列。
<P>
<DT><B>N=</B>

<DD>

0 以外の統計値を表示する SGR 部分文字列。
<P>
<DT><B>Z=</B>

<DD>

0 を表示する SGR 部分文字列。
</DL>
</DL>

<P>
<DT>S_TIME_FORMAT<DD>






この環境変数が存在し、かつ値が
<B>ISO</B>

の場合、レポートのヘッダの日付を表示する際に、
現在のロケールを無視する。
代わりに、
<B>iostat</B>

コマンドは ISO 8601 フォーマット (YYYY-MM-DD) を使う。


-t オプションのタイムスタンプも ISO 8601 フォーマットに従う。
<P>

</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>例</H2>

<B>iostat</B>

<DL COMPACT><DT><DD>

すべての CPU とデバイスのブート時からの 1 回分の履歴を表示する。
<P>
</DL>

<B>iostat -d 2</B>

<DL COMPACT><DT><DD>

デバイスのレポートを 2 秒間隔で連続して表示する。
<P>
</DL>

<B>iostat -d 2 6</B>

<DL COMPACT><DT><DD>

すべてのデバイスのレポートを 2 秒間隔で 6 回表示する。
<P>
</DL>

<B>iostat -x sda sdb 2 6</B>

<DL COMPACT><DT><DD>


デバイス sda と sdb の拡張した統計を 2 秒間隔で 6 回表示する。
<P>
</DL>

<B>iostat -p sda 2 6</B>

<DL COMPACT><DT><DD>


デバイス sda と、そのすべてのパーティション (sda1 など) のレポートを
2 秒間隔で 6 回表示する。

</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>バグ</H2>





<B>iostat</B>

コマンドが動作するためには、
<I>/proc</I>

ファイルシステムがマウントされていなければならない。
<P>

2.6.x より古いカーネルは、もはやサポートしていない。

<A NAME="lbAJ">&nbsp;</A>
<H2>ファイル</H2>

<I>/proc/stat</I>


システム統計を保持する。
<P>
<I>/proc/uptime</I>


システム uptime を保持する。
<P>
<I>/proc/diskstats</I>


ディスク統計を保持する。
<P>
<I>/sys</I>


ブロックデバイス統計を保持する。
<P>
<I>/proc/self/mountstats</I>


ネットワークファイルシステム統計を保持する。
<P>
<I>/dev/disk</I>


永続デバイス名を保持する。

<A NAME="lbAK">&nbsp;</A>
<H2>著者</H2>

Sebastien Godard (sysstat &lt;at&gt; orange.fr)

<A NAME="lbAL">&nbsp;</A>
<H2>関連項目</H2>

<B><A HREF="../man1/sar.1.html">sar</A></B>(1),

<B><A HREF="../man1/pidstat.1.html">pidstat</A></B>(1),

<B><A HREF="../man1/mpstat.1.html">mpstat</A></B>(1),

<B><A HREF="../man8/vmstat.8.html">vmstat</A></B>(8),

<B><A HREF="../man1/tapestat.1.html">tapestat</A></B>(1),

<B><A HREF="../man1/nfsiostat.1.html">nfsiostat</A></B>(1),

<B><A HREF="../man1/cifsiostat.1.html">cifsiostat</A></B>(1)

<P>
<I><A HREF="https://github.com/sysstat/sysstat">https://github.com/sysstat/sysstat</A></I>

<P>
<I><A HREF="http://pagesperso-orange.fr/sebastien.godard/">http://pagesperso-orange.fr/sebastien.godard/</A></I>

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">レポート</A><DD>
<DT><A HREF="#lbAF">オプション</A><DD>
<DT><A HREF="#lbAG">環境変数</A><DD>
<DT><A HREF="#lbAH">例</A><DD>
<DT><A HREF="#lbAI">バグ</A><DD>
<DT><A HREF="#lbAJ">ファイル</A><DD>
<DT><A HREF="#lbAK">著者</A><DD>
<DT><A HREF="#lbAL">関連項目</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 03:32:53 GMT, March 20, 2020
</BODY>
</HTML>
