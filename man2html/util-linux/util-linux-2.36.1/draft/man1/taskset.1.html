<HTML>
  <HEAD>
  <META CHARSET="UTF-8"/>
  <META HTTP-QUIV="Content-Type" CONTENT="text/html; charset=UTF-8"/>
  <LINK REL="stylesheet" TYPE="text/css"
	    HREF="../../../../css/jm-draft.css"/>
  <TITLE>Manpage of TASKSET</TITLE>
</HEAD><BODY>
<H1>TASKSET</H1>
Section: User Commands (1)<BR>Updated: August 2014<BR><A HREF="#index">Index</A>
<A HREF="https://github.com/ysatoautonomous/jm-draft/wiki">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>


taskset - プロセスの CPU アフィニティ (affinity) を設定また取得する。

<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>taskset</B>

[options]
<I>mask&nbsp;command&nbsp;</I>[<I>argument</I>...]

<BR>

<B>taskset</B>

[options]
<B>-p</B>

[<I>mask</I>]&nbsp;<I>pid</I>


<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>

<P>




<B>taskset</B>

は <I>pid</I> で指定された実行中の CPU アフィニティを設定または取得するために使われる。
また、新しい <I>command</I> を指定した CPU アフィニティで起動することもできる。


CPU アフィニティは、スケジューラーの設定であり、
プロセスをシステム上の CPU セットと「結びつける」。





Linux スケジューラーは指定された CPU アフィニティを遵守し、他の CPU では実行しない。
Linux スケジューラーは元々の CPU アフィニティもサポートする点にも注意すること。
元々のスケジューラーは、性能上の理由がない限り、プロセスを同じ CPU で実行する。
よって、特定の CPU アフィニティを強制することは、特定のアプリケーションでしか役立たない。
<P>










CPU アフィニティはビットマスクで表現され、最下位のビットが最初の論理 CPU に対応し、
最上位のビットが最後の論理 CPU に対応する。
全ての CPU が指定されたシステムで存在するわけではないので、
マスクでは存在する以上の CPU を指定することができる。
取得したマスクは、システム上に物理的に存在する CPU に対応したビットになっている。
不正な (つまり、現在のシステムに対応する有効な CPU がない) マスクが指定された場合、
エラーが返される。
マスクは 16 進数 (先頭に &quot;0x&quot; があってもなくてもよい)、または 
<B>--cpu-list</B>

オプションで CPU のリストで指定できる。
例えば、
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>0x00000001</B>

<DD>

はプロセッサ #0 である。
<DT><B>0x00000003</B>

<DD>

はプロセッサ #0 と #1 である。
<DT><B>0xFFFFFFFF</B>

<DD>

はプロセッサ #0 から #31 である。
<DT><B>32</B>

<DD>

はプロセッサ #1, #4, #5 である。
<DT><B>--cpu-list&nbsp;0-2,6</B>

<DD>

はプロセッサ #0, #1, #2, #6 である。
<DT><B>--cpu-list&nbsp;0-10:2</B>

<DD>


はプロセッサ #0, #2, #4, #6, #8, #10 である。
サフィックス &quot;:N&quot; は範囲内でいくつ飛ばすかを指定する。
例えば、0-10:3 は 0,3,6,9 というリストとして解釈される。
</DL>
</DL>

<P>





<B>taskset</B>

が返された場合、指定したプログラムが適切な CPU でスケジューリングされていることが
保証されている。

<A NAME="lbAE">&nbsp;</A>
<H2>オプション</H2>

<DL COMPACT>
<DT><B>-a</B>,&nbsp;<B>--all-tasks</B>

<DD>

指定した PID の全てのタスク (スレッド) の CPU アフィニティを設定または取得する。
<DT><B>-c</B>,&nbsp;<B>--cpu-list</B>

<DD>



<I>mask</I> をビットマスクではなく、プロセッサ番号のリストとして解釈する。
番号はカンマで区切られ、範囲を含めることもできる。
例えば:
<B>0,5,8-11</B>.

<DT><B>-p</B>,&nbsp;<B>--pid</B>

<DD>

既存の PID について操作を行い、新しいタスクを起動しない。
<DT><B>-V</B>,&nbsp;<B>--version</B>

<DD>

バージョン情報を表示して、終了する。
<DT><B>-h</B>,&nbsp;<B>--help</B>

<DD>

ヘルプを表示して、終了する。

</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>使用法</H2>

<DL COMPACT>
<DT>
<DD>
デフォルトの動作は、新しいコマンドを指定したアフィニティマスクで実行する:
<B>taskset</B>

<I>mask</I>

<I>command&nbsp;</I>[<I>arguments</I>]

<DT>
<DD>
既存のタスクの CPU アフィニティを取得することもできる:
<B>taskset -p</B>

<I>pid</I>

<DT>
<DD>
既存のタスクの CPU アフィニティを設定する:
<B>taskset -p</B>

<I>mask pid</I>


</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>権限</H2>






ユーザーは同じユーザーが所有するプロセスの CPU アフィニティを変更できる。
他のユーザーが所有するプロセスの CPU アフィニティを変更するには、
<B>CAP_SYS_NICE</B>

権限を持たなければならない。
ユーザーは任意のプロセスのアフィニティマスクを取得できる。

<A NAME="lbAH">&nbsp;</A>
<H2>著者</H2>


Robert M. Love によって書かれた。

<A NAME="lbAI">&nbsp;</A>
<H2>著作権</H2>

Copyright &#169; 2004 Robert M. Love.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

<A NAME="lbAJ">&nbsp;</A>
<H2>関連項目</H2>

<B><A HREF="../man1/chrt.1.html">chrt</A></B>(1),

<B><A HREF="../man1/nice.1.html">nice</A></B>(1),

<B><A HREF="../man1/renice.1.html">renice</A></B>(1),

<B><A HREF="../man2/sched_getaffinity.2.html">sched_getaffinity</A></B>(2),

<B><A HREF="../man2/sched_setaffinity.2.html">sched_setaffinity</A></B>(2)

<P>



Linux のスケジューリングの概要については、
<B><A HREF="../man7/sched.7.html">sched</A></B>(7)

を参照すること。

<A NAME="lbAK">&nbsp;</A>
<H2>入手方法</H2>



taskset コマンドは util-linux パッケージの一部であり、
<A HREF="https://www.kernel.org/pub/linux/utils/util-linux/">https://www.kernel.org/pub/linux/utils/util-linux/</A>
から入手できる。
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">オプション</A><DD>
<DT><A HREF="#lbAF">使用法</A><DD>
<DT><A HREF="#lbAG">権限</A><DD>
<DT><A HREF="#lbAH">著者</A><DD>
<DT><A HREF="#lbAI">著作権</A><DD>
<DT><A HREF="#lbAJ">関連項目</A><DD>
<DT><A HREF="#lbAK">入手方法</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 23:39:19 GMT, January 22, 2021
</BODY>
</HTML>
