<HTML>
  <HEAD>
  <META CHARSET="UTF-8"/>
  <META HTTP-QUIV="Content-Type" CONTENT="text/html; charset=UTF-8"/>
  <LINK REL="stylesheet" TYPE="text/css"
	    HREF="../../../../css/jm-draft.css"/>
  <TITLE>Manpage of SWITCH_ROOT</TITLE>
</HEAD><BODY>
<H1>SWITCH_ROOT</H1>
Section: System Administration (8)<BR>Updated: June 2009<BR><A HREF="#index">Index</A>
<A HREF="https://github.com/ysatoautonomous/jm-draft/wiki">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>


switch_root - マウントツリーのルートとして別のファイルシステムに切り替える。

<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>switch_root</B>

[<B>-hV</B>]

<P>

<B>switch_root</B>

<I>newroot</I>

<I>init</I>

[<I>arg</I>...]


<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>









<B>switch_root</B>

は既にマウントされている /proc, /dev, /sys, /run を
<I>newroot</I>

に移動して、
<I>newroot</I>

を新しいルートファイルシステムとし、
<I>init</I>

プロセスを開始する。
<P>

<B>注意: switch_root は現在のルートファイルシステム上の全てのファイルとディレクトリを再帰的に削除する。</B>

<P>

<A NAME="lbAE">&nbsp;</A>
<H2>オプション</H2>

<DL COMPACT>
<DT><B>-h, --help</B><DD>

ヘルプを表示して、終了する。
<DT><B>-V, --version</B><DD>

バージョン情報を表示して、終了する。
<P>

</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>返り値</H2>



<B>switch_root</B>

は、成功した場合 0 を返し、失敗した場合 1 を返す。
<P>

<A NAME="lbAG">&nbsp;</A>
<H2>注意</H2>






switch_root は、
<B>newroot</B>

がマウントのルートでない場合、動作に失敗する。
この必要条件を満たさないディレクトリをルートに切り替えたい場合、
初めに bind マウントのトリックを使って、ディレクトリをマウントポイントにすること。
<P>
<PRE>
<DL COMPACT><DT><DD>mount --bind $DIR $DIR
</DL>
</PRE>

<P>

<A NAME="lbAH">&nbsp;</A>
<H2>著者</H2>

<PRE>
Peter Jones &lt;<A HREF="mailto:pjones@redhat.com">pjones@redhat.com</A>&gt;
Jeremy Katz &lt;<A HREF="mailto:katzj@redhat.com">katzj@redhat.com</A>&gt;
Karel Zak &lt;<A HREF="mailto:kzak@redhat.com">kzak@redhat.com</A>&gt;
</PRE>


<A NAME="lbAI">&nbsp;</A>
<H2>関連項目</H2>

<B><A HREF="../man2/chroot.2.html">chroot</A></B>(2),

<B><A HREF="../man8/init.8.html">init</A></B>(8),

<B><A HREF="../man8/mkinitrd.8.html">mkinitrd</A></B>(8),

<B><A HREF="../man8/mount.8.html">mount</A></B>(8)


<A NAME="lbAJ">&nbsp;</A>
<H2>入手方法</H2>



switch_root コマンドは util-linux パッケージの一部であり、
<A HREF="https://www.kernel.org/pub/linux/utils/util-linux/">https://www.kernel.org/pub/linux/utils/util-linux/</A>
から入手できる。
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">オプション</A><DD>
<DT><A HREF="#lbAF">返り値</A><DD>
<DT><A HREF="#lbAG">注意</A><DD>
<DT><A HREF="#lbAH">著者</A><DD>
<DT><A HREF="#lbAI">関連項目</A><DD>
<DT><A HREF="#lbAJ">入手方法</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 13:37:35 GMT, February 04, 2021
</BODY>
</HTML>
