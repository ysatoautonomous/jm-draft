<HTML>
  <HEAD>
  <META CHARSET="UTF-8"/>
  <META HTTP-QUIV="Content-Type" CONTENT="text/html; charset=UTF-8"/>
  <LINK REL="stylesheet" TYPE="text/css"
	    HREF="../../../../css/jm-draft.css"/>
  <TITLE>Manpage of DMESG</TITLE>
</HEAD><BODY>
<H1>DMESG</H1>
Section: User Commands (1)<BR>Updated: July 2012<BR><A HREF="#index">Index</A>
<A HREF="https://github.com/ysatoautonomous/jm-draft/wiki">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>


dmesg - カーネルリングバッファーの表示または制御を行う。

<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>dmesg</B>

[options]
<P>
<B>dmesg --clear</B>

<BR>

<B>dmesg --read-clear </B>[options]

<BR>

<B>dmesg --console-level </B><I>level</I>

<BR>

<B>dmesg --console-on</B>

<BR>

<B>dmesg --console-off</B>


<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>



<B>dmesg</B>

はカーネルリングバッファーを調査または制御するために使われる。
<P>


デフォルトのアクションは、カーネルリングバッファーから全てのメッセージを
表示する。

<A NAME="lbAE">&nbsp;</A>
<H2>オプション</H2>









<B>--clear</B>,

<B>--read-clear</B>,

<B>--console-on</B>,

<B>--console-off</B>,

<B>--console-level</B>

オプションは、どれか 1 つしか選択できない。
<P>

<DL COMPACT>
<DT><B>-C</B>, <B>--clear</B><DD>

リングバッファーをクリアする。
<DT><B>-c</B>, <B>--read-clear</B><DD>

最初に内容を表示した後、リングバッファーをクリアする。
<DT><B>-D</B>, <B>--console-off</B><DD>

コンソールへのメッセージの表示を無効化する。
<DT><B>-d</B>, <B>--show-delta</B><DD>




タイムスタンプとメッセージ間で経過した時間差分を表示する。
<B>--notime</B>

と一緒に使うと、タイムスタンプを表示せず、時間差分のみを表示する。
<DT><B>-E</B>, <B>--console-on</B><DD>

コンソールへのメッセージの表示を有効化する。
<DT><B>-e</B>, <B>--reltime</B><DD>



ローカル時間と時間差分を人が読みやすい形式で表示する。
ローカル時間への変換は正確でない点に注意すること
(より詳細は <B>-T</B> for を参照すること)。
<DT><B>-F</B>, <B>--file </B><I>file</I><DD>



syslog メッセージを指定された
<I>file</I>

から読み込む。
<B>-F</B> は kmsg 形式のメッセージをサポートしていない点に注意すること。
昔ながらの syslog 形式のみをサポートしている。
<DT><B>-f</B>, <B>--facility </B><I>list</I><DD>



出力を指定した (カンマ区切りの) ファシリティの
<I>list</I>

に制限する。
例えば:
</DL>
<P>

<DL COMPACT><DT><DD>
<B>dmesg --facility=daemon</B>

</DL>

<DL COMPACT>
<DT><DD>




は、システムデーモンからのメッセージのみを表示する。
全てのサポートされているファシリティは
<B>--help</B>

の出力を参照すること。
<DT><B>-H</B>, <B>--human</B><DD>


人が読みやすい出力を有効にする。
<B>--color</B>, <B>--reltime</B>, <B>--nopager</B> も参照すること。
<DT><B>-k</B>, <B>--kernel</B><DD>

カーネルメッセージを表示する。
<DT><B>-L</B>, <B>--color</B>[=<I>when</I>]<DD>




出力をカラー表示する。
オプションの引き数 <I>when</I> は
<B>auto</B>, <B>never</B>, <B>always</B> のいずれかである。
<I>when</I> 引き数が省略された場合、デフォルトは <B>auto</B> である。
カラー表示は無効化できる。
現在の組み込みのデフォルトは、<B>--help</B> の出力を参照すること。
下記の <B>カラー表示</B> のセクションも参照すること。
<DT><B>-l</B>, <B>--level </B><I>list</I><DD>



出力を指定した (カンマ区切りの) レベルの 
<I>list</I>

に制限する。
例えば:
</DL>
<P>

<DL COMPACT><DT><DD>
<B>dmesg --level=err,warn</B>

</DL>

<DL COMPACT>
<DT><DD>



はエラーと警告のメッセージのみを表示する。
サポートされる全てのレベルについては、
<B>--help</B>

の出力を参照すること。

<DT><B>-n</B>, <B>--console-level </B><I>level</I><DD>








コンソールに表示されるメッセージを
<I>level</I>

に設定する。
<I>level</I>

はレベル番号、またはレベル名の省略形である。
サポートされる全てのレベルについては、
<B>--help</B>

の出力を参照すること。
<P>
















例えば、
<B>-n 1</B>

または
<B>-n emerg</B>

は、コンソールに表示されるメッセージから、緊急 (パニック) メッセージ以外の
全てのメッセージを抑止する。
これを指定しても、全てのレベルのメッセージは
<I>/proc/kmsg</I>

には書き出されるので、
<B><A HREF="../man8/syslogd.8.html">syslogd</A></B>(8)

はカーネルメッセージが現れた場所を正確にコントロールできる。
<B>-n</B>

オプションが使われると、
<B>dmesg</B>

はカーネルリングバッファーの表示を
<I>行わず</I>、

クリアも
<I>行わない</I>。

<DT><B>-P</B>, <B>--nopager</B><DD>

出力をページャーにパイプしない。
ページャーは <B>--human</B> の出力ではデフォルトで有効になっている。
<DT><B>-p</B>, <B>--force-prefix</B><DD>

複数行のメッセージの各行に、ファシリティ、レベル、タイムスタンプの
情報を追加する。
<DT><B>-r</B>, <B>--raw</B><DD>

生 (raw) のメッセージバッファーを表示する。
つまり、ログレベルのプレフィックスを取り去らない。
<P>




本当の raw 形式は、
<B><A HREF="../man1/dmesg.1.html">dmesg</A></B>(1)

がカーネルメッセージを読む方法に依存する点に注意すること。
/dev/kmsg デバイスは
<B><A HREF="../man2/syslog.2.html">syslog</A></B>(2)

と異なる形式を使う。






後方互換のため、
<B><A HREF="../man1/dmesg.1.html">dmesg</A></B>(1)

は常に
<B><A HREF="../man2/syslog.2.html">syslog</A></B>(2)

形式でデータを返す。
例えば、コマンド 'dd if=/dev/kmsg iflag=nonblock' で、
本当の生データを /dev/kmsg から読むことができる。
<DT><B>-S</B>, <B>--syslog</B><DD>






<B>dmesg</B> がカーネルメッセージを読むのに、
<B><A HREF="../man2/syslog.2.html">syslog</A></B>(2)

カーネルインタフェースを使うことを強制する。
カーネル 3.5.0 以降では、デフォルトで
<B><A HREF="../man2/syslog.2.html">syslog</A></B>(2)

ではなく、/dev/kmsg を使う。

<DT><B>-s</B>, <B>--buffer-size </B><I>size</I><DD>






カーネルリングバッファーを取得するためのバッファーサイズとして
<I>size</I>

を使う。
これはデフォルトで 16392 である。
(デフォルトのカーネル syslog バッファーサイズは、最初 4096 であった。
1.3.54 以降では 8192 であり、2.1.113 以降では 16384 である。)
カーネルバッファーをデフォルトより大きくすることで、
このオプションでバッファ全体を見るのに使うことができる。
<DT><B>-T</B>, <B>--ctime</B><DD>

人間が読みやすい形式のタイプスタンプで表示する。
<DT><DD>

<B>このタイムスタンプは正確でない可能性があるので注意すること!</B>







ログで使われる
<B>時刻</B>

の情報源は、システムの
<B>SUSPEND</B>/<B>RESUME</B>

の以降では
<B>更新されない。</B>

<DT><B>-t</B>, <B>--notime</B><DD>

カーネルのタイムスタンプを表示しない。
<DT><B>--time-format</B> <I>format</I><DD>






タイムスタンプを指定された <I>format</I> で表示する。
<BR>&nbsp;<I>format</I>&nbsp;は
<B>ctime</B>,

<B>reltime</B>,

<B>delta</B>,

<B>iso</B>

のいずれかある。
最初の 3 つの形式は、時間形式固有のオプションのエイリアスである。








<B>iso</B>

形式は ISO-8601 タイムスタンプ形式の
<B>dmesg</B>

での実装である。
この形式の目的は、2 つのシステムのタイムスタンプの比較と、
その他の解析をしやすくすることである。
<B>iso</B> タイムスタンプの定義は、以下の通りである:
YYYY-MM-DD&lt;T&gt;HH:MM:SS,&lt;microseconds&gt;&lt;-+&gt;&lt;UTC からのタイムゾーンオフセット&gt;。
<DT><DD>





<B>iso</B>

形式は
<B>ctime</B>

と同じ問題がある:
システムがサスペンドまたはレジュームすると、時間が正確でなくなる
可能性がある。
<DT><B>-u</B>,<B> --userspace</B>

<DD>

ユーザー空間のメッセージを表示する。
<DT><B>-w</B>,<B> --follow</B>

<DD>


新しいメッセージを待つ。
この機能は、読み込み可能な /dev/kmsg (カーネル 3.5.0 以降) を持つシステムでのみサポートされる。
<DT><B>-x</B>,<B> --decode</B>

<DD>

ファシリティとレベル (優先度) の数値を、人が読みやすいプレフィックスにデコードする。
<DT><B>-V</B>,<B> --version</B>

<DD>

バージョン情報を表示して、終了する。
<DT><B>-h</B>,<B> --help</B>

<DD>

ヘルプを表示して、終了する。

</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>カラー表示</H2>


暗黙のカラー表示は、空ファイル <I>/etc/terminal-colors.d/dmesg.disable</I> で
無効化できる。



カラー表示設定のより詳細は、
<B><A HREF="../man5/terminal-colors.d.5.html">terminal-colors.d</A></B>(5)

を参照すること。
<P>




<B>dmesg</B>

でサポートされる論理的なカラー名は以下の通り:
<DL COMPACT>
<DT><B>subsys</B>

<DD>

メッセージのサブシステムプレフィックス (例えば、&quot;ACPI:&quot;)。
<DT><B>time</B>

<DD>

メッセージのタイムスタンプ。
<DT><B>timebreak</B>

<DD>


<B>--reltime</B> または <B>--human</B> での出力における、
短い ctime 形式のメッセージのタイムスタンプ。
<DT><B>alert</B>

<DD>

アラートログ優先度のメッセージの文字列。
<DT><B>crit</B>

<DD>

致命的ログ優先度のメッセージの文字列。
<DT><B>err</B>

<DD>

エラーログ優先度のメッセージの文字列。
<DT><B>warn</B>

<DD>

警告ログ優先度のメッセージの文字列。
<DT><B>segfault</B>

<DD>

セグメンテーションフォールトを知らせるメッセージの文字列。

</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>返り値</H2>







<B>dmesg</B>

は権限不足によるエラーで、表示に失敗する可能性がある。
これは多くの場合、
<B>dmesg_restrict</B>

カーネル設定で引き起こされる。
より詳細は
<B><A HREF="../man2/syslog.2.html">syslog</A></B>(2)

を参照してほしい。

<A NAME="lbAH">&nbsp;</A>
<H2>関連項目</H2>

<B><A HREF="../man5/terminal-colors.d.5.html">terminal-colors.d</A></B>(5),

<B><A HREF="../man8/syslogd.8.html">syslogd</A></B>(8)


<A NAME="lbAI">&nbsp;</A>
<H2>著者</H2>


Karel Zak

<P>
<BR>






<B>dmesg</B>

は元々

Theodore Ts'o

によって書かれた。

<A NAME="lbAJ">&nbsp;</A>
<H2>入手方法</H2>





dmesg コマンドは util-linux パッケージの一部であり、

Linux Kernel Archive

から入手できる。
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">オプション</A><DD>
<DT><A HREF="#lbAF">カラー表示</A><DD>
<DT><A HREF="#lbAG">返り値</A><DD>
<DT><A HREF="#lbAH">関連項目</A><DD>
<DT><A HREF="#lbAI">著者</A><DD>
<DT><A HREF="#lbAJ">入手方法</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 04:01:28 GMT, April 05, 2020
</BODY>
</HTML>
