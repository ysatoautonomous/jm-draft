<HTML>
  <HEAD>
  <META CHARSET="UTF-8"/>
  <META HTTP-QUIV="Content-Type" CONTENT="text/html; charset=UTF-8"/>
  <LINK REL="stylesheet" TYPE="text/css"
	    HREF="../../../../css/jm-draft.css"/>
  <TITLE>Manpage of BLKID</TITLE>
</HEAD><BODY>
<H1>BLKID</H1>
Section: System Administration (8)<BR>Updated: March 2013<BR><A HREF="#index">Index</A>
<A HREF="https://github.com/ysatoautonomous/jm-draft/wiki">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>


blkid - ブロックデバイスの属性を検索/表示する。

<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<DL COMPACT>
<DT><B>blkid</B><DD>
<B>--label</B><I> label</I>

|
<B>--uuid</B><I> uuid</I>

<P>
<DT><B>blkid</B><DD>
[<B>--no-encoding</B>

<B>--garbage-collect --list-one --cache-file</B>

<I>file</I>]

[<B>--output</B>

<I>format</I>]

[<B>--match-tag</B>

<I>tag</I>]

[<B>--match-token</B>

<I>NAME=value</I>]

[<I>device</I> ...]

<P>
<DT><B>blkid</B><DD>
<B>--probe</B> [<B>--offset</B>

<I>offset</I>]

[<B>--output</B>

<I>format</I>]

[<B>--size</B>

<I>size</I>]

[<B>--match-tag</B>

<I>tag</I>]

[<B>--match-types</B>

<I>list</I>]

[<B>--usages</B>

<I>list</I>]

[<B>--no-part-details</B>]

<I>device</I> ...

<P>
<DT><B>blkid</B><DD>
<B>--info</B> [<B>--output</B>

<I>format</I>]

[<B>--match-tag</B>

<I>tag</I>]

<I>device</I> ...

<P>

</DL>
<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>








<B>blkid</B>

プログラムは
<B><A HREF="../man3/libblkid.3.html">libblkid</A></B>(3)

とともに動作するコマンドラインインタフェースである。
このプログラムは、ブロックデバイスが保持するコンテンツ種別
(ファイルシステムやスワップなど)を判定する。
また、コンテンツメタデータ (LABEL や UUID フィールドなど) から
属性 (トークン、NAME=value ペア) を判定する。
<P>






<B><A HREF="../man8/lsblk.8.html">lsblk</A></B>(8)

<B>コマンドによるブロックデバイスの取得、lsblk --fs によるファイルシステムの概要の取得、</B>

<B><A HREF="../man8/findmnt.8.html">findmnt</A></B>(8)

<B>による既にマウントされたファイルシステムの検索が推奨される。</B>

<P>

<DL COMPACT><DT><DD>



<B><A HREF="../man8/lsblk.8.html">lsblk</A></B>(8)

は、より詳細な情報を提供し、出力形式をよりうまく制御でき、
スクリプトで簡単に使用できる。
また、実際の情報を取得するのに root 権限は必要ない。



<B>blkid</B>

はデバイスから直接情報を読み取り、root 以外のユーザーには検証されていない
キャッシュされた情報を返す。


<B>blkid</B>

は主にシステムサービスのために設計されており、libblkid の機能のテストのためのものである。
</DL>

<P>
<P>




<I>device</I>

が指定された場合、このデバイスのトークンのみが表示される。



複数の
<I>device</I>

引き数をコマンドラインで指定できる。



デバイスが指定されない場合、
<I>/proc/partitions</I>

にあるデバイスが認識されている場合は、
デバイスの全てのパーティションまたはパーティション化されてない区画の
情報が表示される。
<P>





<B>blkid</B>

は主に 2 つの形式の操作がある。
指定した NAME=value ペアを持つデバイスの検索、
または指定した 1 つ以上のデバイスの NAME=value ペアを表示である。
<P>





セキュリティ上の理由から、
<B>blkid</B>

は (複数の衝突するファイルシステムが検出されたときなど) 検出された結果がはっきりしない
全てのデバイスを黙って無視する。
この場合、低レベルの検出モード (<B>-p</B>) では、より多くの情報を提供し、
多くの返り値を返す。



デバイスから詳細な概要を取得し、不要な情報 (マジック文字列) を削除するには、
<B><A HREF="../man8/wipefs.8.html">wipefs</A></B>(8)

を使うことが推奨される。
<P>

<A NAME="lbAE">&nbsp;</A>
<H2>オプション</H2>





<I>size</I> と <I>offset</I> 
引き数には倍数のサフィックス KiB (=1024), MiB (=1024*1024),
GiB, TiB, PiB, EiB, ZiB, YiB を付けることができる
(&quot;iB&quot; はオプションであり、例えば &quot;K&quot; は &quot;KiB&quot; と同じ意味である)。
また、フィックス KB (=1000), MB (=1000*1000),
GB, TB, PB, EB, ZB, YB を付けることもできる。
<DL COMPACT>
<DT><B>-c</B>, <B>--cache-file</B> <I>cachefile</I><DD>






デフォルトのキャッシュファイルではなく、
<I>cachefile</I>

を読み込む (より詳細は、「設定ファイル」のセクションを参照すること)。
何もキャッシュしていない状態で開始したい場合 (すなわち、以前はスキャンを行ったが
今回は利用する必要のないデバイスを表示しない場合) は、
<I>/dev/null</I>

を指定すること。
<DT><B>-d</B>, <B>--no-encoding</B><DD>



非表示文字をエンコードしない。
デフォルトでは、非表示文字は ^ と M- の形式でエンコードされる。
<B>--output udev</B> の出力形式では、無効化できない別のエンコーディングを使う点に
注意すること。
<DT><B>-D</B>, <B>--no-part-details</B> <DD>

低レベル検出モードでパーティションテーブルからの情報 (PART_ENTRY_* タグ) を表示しない。
<DT><B>-g</B>, <B>--garbage-collect</B><DD>


既に存在しないデバイスを blkid キャッシュから削除するために、
ガベージコレクションを実施する。
<DT><B>-h</B>, <B>--help</B><DD>

使用法のメッセージを表示して、終了する。
<DT><B>-i</B>, <B>--info</B><DD>


I/O 制限 (別名 I/O トポロジー) の情報を表示する。
'export' 出力形式は自動的に有効にされる。
このオプションは <B>--probe</B> オプションと一緒に指定できる。
<DT><B>-k</B>, <B>--list-filesystems</B><DD>

既存の全てのファイルシステムと RAID を表示して、終了する。
<DT><B>-l</B>, <B>--list-one</B><DD>








<B>--match-token</B> オプションで指定された検索パラメータにマッチする
唯一のデバイスを検索する。
指定された検索パラメータにマッチする複数のデバイスがある場合、
もっとも高い優先度のデバイスが返されるか、
指定された優先度で見つかった最初のデバイスが返される。
優先度の高い順のデバイスタイプは以下の通り:
デバイスマッパー, EVMS, LVM, MD, 最後が通常のブロックデバイス。
このオプションが指定されてない場合、
<B>blkid</B>

は検索パラメータにマッチする全てのデバイスを表示する。
<DT><B>-L</B>, <B>--label</B> <I>label</I><DD>


このファイルシステム <I>label</I> を使うデバイスを検索する。
これは、
<B>--list-one --output device --match-token LABEL=</B><I>label</I>

と等しい。



この検索方法では、(/etc/blkid.conf の設定に依存する)
/dev/disk/by-label udev シンボリックリンクを使うことができる。
このシンボリックリンクを直接使わないこと。
検証せずにシンボリックリンクを使うことは信頼できない。

<B>--label</B> オプションは、udev があるシステムでも、ないシステムでも動作する。
<P>





不幸なことに、元々の e2fsprogs の
<B><A HREF="../man8/blkid.8.html">blkid</A></B>(8)

は <B>-L</B> オプションを、<B>-o list</B> の別名として使う。
移植性を良くするには、スクリプト中では、<B>-L</B> オプションではなく、
<B>-l -o device -t LABEL=</B><I>label</I> と <B>-o list</B> を使うこと。
<DT><B>-n</B>, <B>--match-types</B> <I>list</I><DD>




(カンマ区切りの) <I>list</I> で指定したスーパーブロックタイプ (名) に検出機能を制限する。
リストのアイテムは、&quot;no&quot; を前置して指定したタイプを無視させることができる。
例:
<P>
<BR>&nbsp;&nbsp;blkid&nbsp;--probe&nbsp;--match-types&nbsp;vfat,ext3,ext4&nbsp;/dev/sda1
<P>

で vfat, ext3, ext4 ファイルシステムを検出できる。
<P>
<BR>&nbsp;&nbsp;blkid&nbsp;--probe&nbsp;--match-types&nbsp;nominix&nbsp;/dev/sda1
<P>

で minix ファイルシステム以外の全てのサポートされているフォーマットを
検出できる。

このオプションは、<B>--probe</B> と一緒に指定された場合にのみ、役に立つ。
<DT><B>-o</B>, <B>--output</B> <I>format</I><DD>




指定した出力形式を使う。
変数とデバイスの順番は固定されていない点に注意すること。
オプション <B>-s</B> も参照すること。
<I>format</I>

引き数は以下の通り:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>full</B>

<DD>

全てのタグを表示する (デフォルト)。
<DT><B>value</B>

<DD>

指定した値のタグを表示する。
<DT><B>list</B>

<DD>


デバイスをユーザーに使いやすい形式で表示する。
この形式は、低レベルの検出 (<B>--probe</B> または<B>--info</B>) ではサポートされない。
<P>



この出力形式は<B>推奨されず</B>、
<B><A HREF="../man8/lsblk.8.html">lsblk</A></B>(8)

コマンドを使うべきである。
<DT><B>device</B>

<DD>


デバイス名のみを表示する。
この出力形式は <B>--label</B> と <B>--uuid</B> オプションで常に有効にされる。
<DT><B>udev</B>

<DD>
print key=&quot;value&quot; pairs for easy import into the udev environment; the keys are
prefixed by ID_FS_ or ID_PART_ prefixes.  The value may be modified to be
safe for udev environment; allowed is plain ASCII, hex-escaping and valid UTF-8,
everything else (including whitespaces) is replaced with '_'. The keys with
_ENC postfix use hex-escaping for unsafe chars.
<P>
The udev output returns the ID_FS_AMBIVALENT tag if more superblocks are detected,
and ID_PART_ENTRY_* tags are always returned for all partitions including empty
partitions.
<P>
This output format is <B>DEPRECATED</B>.
<DT><B>export</B>

<DD>
print key=value pairs for easy import into the environment; this output format
is automatically enabled when I/O Limits (<B>--info</B> option) are requested.
<P>
The non-printing characters are encoded by ^ and M- notation and all
potentially unsafe characters are escaped.
</DL>
</DL>

<DT><B>-O</B>, <B>--offset</B> <I>offset</I><DD>
Probe at the given <I>offset</I> (only useful with <B>--probe</B>).  This option can be
used together with the <B>--info</B> option.
<DT><B>-p</B>, <B>--probe</B><DD>
Switch to low-level superblock probing mode (bypassing the cache).
<P>
Note that low-level probing also returns information about partition table type
(PTTYPE tag) and partitions (PART_ENTRY_* tags). The tag names produced by
low-level probing are based on names used internally by libblkid and it may be
different than when executed without <B>--probe</B> (for example PART_ENTRY_UUID= vs
PARTUUID=). See also <B>--no-part-details</B>.
<DT><B>-s</B>, <B>--match-tag</B> <I>tag</I><DD>
For each (specified) device, show only the tags that match
<I>tag</I>.

It is possible to specify multiple
<B>--match-tag</B>

options.  If no tag is specified, then all tokens are shown for all
(specified) devices.
In order to just refresh the cache without showing any tokens, use
<B>--match-tag none</B>

with no other options.
<DT><B>-S</B>, <B>--size</B> <I>size</I><DD>
Override the size of device/file (only useful with <B>--probe</B>).
<DT><B>-t</B>, <B>--match-token</B> <I>NAME=value</I><DD>
Search for block devices with tokens named
<I>NAME</I>

that have the value
<I>value</I>,

and display any devices which are found.
Common values for
<I>NAME</I>

include
<B>TYPE</B>,

<B>LABEL</B>,

and
<B>UUID</B>.

If there are no devices specified on the command line, all block devices
will be searched; otherwise only the specified devices are searched.
<DT><B>-u</B>, <B>--usages</B> <I>list</I><DD>
Restrict the probing functions to the specified (comma-separated) <I>list</I> of &quot;usage&quot; types.
Supported usage types are: filesystem, raid, crypto and other.  The list items may be
prefixed with &quot;no&quot; to specify the usage types which should be ignored.  For example:
<P>
<BR>&nbsp;&nbsp;blkid&nbsp;--probe&nbsp;--usages&nbsp;filesystem,other&nbsp;/dev/sda1
<P>
probes for all filesystem and other (e.g. swap) formats, and
<P>
<BR>&nbsp;&nbsp;blkid&nbsp;--probe&nbsp;--usages&nbsp;noraid&nbsp;/dev/sda1
<P>
probes for all supported formats except RAIDs.
This option is only useful together with <B>--probe</B>.
<DT><B>-U</B>, <B>--uuid</B> <I>uuid</I><DD>
Look up the device that uses this filesystem <I>uuid</I>.  For more details see the
<B>--label</B> option.
<DT><B>-V</B>, <B>--version</B><DD>
Display version number and exit.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>RETURN CODE</H2>

If the specified device or device addressed by specified token (option
<B>--match-token</B>) was found and it's possible to gather any information about the
device, an exit code 0 is returned.  Note the option <B>--match-tag</B> filters output
tags, but it does not affect return code.
<P>
If the specified token was not found, or no (specified) devices could be
identified, or it is impossible to gather any information about the device
identifiers or device content an exit code of 2 is returned.
<P>
For usage or other errors, an exit code of 4 is returned.
<P>
If an ambivalent probing result was detected by low-level probing mode (<B>-p</B>), an exit code of 8 is
returned.
<A NAME="lbAG">&nbsp;</A>
<H2>CONFIGURATION FILE</H2>

The standard location of the
<I>/etc/blkid.conf</I>

config file can be overridden by the environment variable BLKID_CONF.
The following options control the libblkid library:
<DL COMPACT>
<DT><I>SEND_UEVENT=&lt;yes|not&gt;</I>

<DD>
Sends uevent when
<I>/dev/disk/by-{label,uuid,partuuid,partlabel}/</I>

symlink does not match with LABEL, UUID, PARTUUID or PARTLABEL on the device.  Default is &quot;yes&quot;.
<DT><I>CACHE_FILE=&lt;path&gt;</I>

<DD>
Overrides the standard location of the cache file.  This setting can be
overridden by the environment variable BLKID_FILE.  Default is
<I>/run/blkid/blkid.tab</I>,

or
<I>/etc/blkid.tab</I>

on systems without a /run directory.
<DT><I>EVALUATE=&lt;methods&gt;</I>

<DD>
Defines LABEL and UUID evaluation method(s).  Currently, the libblkid library
supports the &quot;udev&quot; and &quot;scan&quot; methods.  More than one method may be specified in
a comma-separated list.  Default is &quot;udev,scan&quot;.  The &quot;udev&quot; method uses udev
<I>/dev/disk/by-*</I>

symlinks and the &quot;scan&quot; method scans all block devices from the
<I>/proc/partitions</I>

file.
</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>AUTHOR</H2>

<B>blkid</B>

was written by Andreas Dilger for libblkid and improved by Theodore Ts'o
and Karel Zak.
<A NAME="lbAI">&nbsp;</A>
<H2>ENVIRONMENT</H2>

<DL COMPACT>
<DT>Setting LIBBLKID_DEBUG=all enables debug output.<DD>
</DL>
<A NAME="lbAJ">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="../man3/libblkid.3.html">libblkid</A></B>(3),

<B><A HREF="../man8/findfs.8.html">findfs</A></B>(8),

<B><A HREF="../man8/lsblk.8.html">lsblk</A></B>(8),

<B><A HREF="../man8/wipefs.8.html">wipefs</A></B>(8)

<A NAME="lbAK">&nbsp;</A>
<H2>AVAILABILITY</H2>

The blkid command is part of the util-linux package and is available from
<A HREF="https://www.kernel.org/pub/linux/utils/util-linux/.">https://www.kernel.org/pub/linux/utils/util-linux/.</A>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">オプション</A><DD>
<DT><A HREF="#lbAF">RETURN CODE</A><DD>
<DT><A HREF="#lbAG">CONFIGURATION FILE</A><DD>
<DT><A HREF="#lbAH">AUTHOR</A><DD>
<DT><A HREF="#lbAI">ENVIRONMENT</A><DD>
<DT><A HREF="#lbAJ">SEE ALSO</A><DD>
<DT><A HREF="#lbAK">AVAILABILITY</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 17:16:47 GMT, April 16, 2020
</BODY>
</HTML>
