<HTML>
  <HEAD>
  <META CHARSET="UTF-8"/>
  <META HTTP-QUIV="Content-Type" CONTENT="text/html; charset=UTF-8"/>
  <LINK REL="stylesheet" TYPE="text/css"
	    HREF="../../../../css/jm-draft.css"/>
  <TITLE>Manpage of UUID_GENERATE</TITLE>
</HEAD><BODY>
<H1>UUID_GENERATE</H1>
Section: Libuuid API (3)<BR>Updated: May 2009<BR><A HREF="#index">Index</A>
<A HREF="https://github.com/ysatoautonomous/jm-draft/wiki">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>



uuid_generate, uuid_generate_random, uuid_generate_time,
uuid_generate_time_safe - 他と重ならない UUID 値を新しく作成する

<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<PRE>
<B>#include &lt;<A HREF="file:///usr/include/uuid.h">uuid.h</A>&gt;</B>

<B>void uuid_generate(uuid_t </B><I>out</I><B>);</B>
<B>void uuid_generate_random(uuid_t </B><I>out</I><B>);</B>
<B>void uuid_generate_time(uuid_t </B><I>out</I><B>);</B>
<B>int uuid_generate_time_safe(uuid_t </B><I>out</I><B>);</B>
<B>void uuid_generate_md5(uuid_t </B><I>out</I><B>, const uuid_t </B><I>ns</I><B>, const char </B><I>*name</I><B>, size_t </B><I>len</I><B>);</B>
<B>void uuid_generate_sha1(uuid_t </B><I>out</I><B>, const uuid_t </B><I>ns</I><B>, const char </B><I>*name</I><B>, size_t </B><I>len</I><B>);</B>
</PRE>


<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>












<B>uuid_generate</B>

関数は新しい UUID (universally unique identifier:
絶対に他とは重ならない識別子) を生成する。
UUID の生成には、
<I>/dev/urandom</I>

のような質の良い乱数発生機構が利用できる場合はそれを利用する。
できない場合には、
<B>uuid_generate</B>

は別のアルゴリズムを用いる。
この場合は現在時刻、ローカルなイーサネットの MAC アドレスが取得できればその値、
および擬似乱数発生機構から生成された乱数が用いられる。
<P>









<B>uuid_generate_random</B>

関数は、質の良い乱数発生機構 (例えば
<I>/dev/urandom</I>)

が利用できない場合でも、完全にランダムベースの (つまり時刻や MAC アドレスを使わない)
UUID フォーマットを作りたい場合に用いる。
この場合は擬似乱数発生機構が代わりに用いられる。
擬似乱数発生機構を利用すると、このように生成された UUID の
一意性は劣化するかもしれないことに注意すること。
<P>





















<B>uuid_generate_time</B>

関数は、代替アルゴリズムを使いたい場合に用いる。
これは現在時刻と (あれば) イーサネットの MACアドレスを用いる。
このアルゴリズムはかつて UUID 生成方法のデフォルトであったが、
イーサネットの MAC アドレスを用いるので、
いつどこで UUID が生成されたかの情報がリークしてしまう。
これはアプリケーションによってはプライバシー問題を起こすことがあるので、
<B>uuid_generate</B>

関数は質の高い乱数発生機構が利用できない場合に限って、このアルゴリズムを
用いるようになった。
並列に実行されているプロセスで生成された UUID の一意性を保証するため、
uuid ライブラリは (プロセスがグローバルクロックステートカウンターの
ファイルに排他アクセスを取得する権限がある場合) グローバルクロックステートカウンターを使う。
また、
<B>uuidd</B>

デーモンが既に実行されているか、プロセスによってデーモンが生成 (spawn) できる場合
(<B>uuidd</B>

デーモンがインストールされていて、プロセスがデーモンを実行するのに充分な
権限を持っている場合)、uuid ライブラリは
<B>uuidd</B>

デーモンを使う。
2 つの同期機構のどちらも使えない場合、2 つの並列に実行されているプロセスは、
論理的には同じ UUID を取得する可能性がある。
UUID が安全な方法で生成されているかを調べるには、
<B>uuid_generate_time_safe</B>

を使うこと。
<P>






<B>uuid_generate_time_safe</B>

関数は、
<B>uuid_generate_time</B>

と同様であるが、同期機構 (上記を参照) が使われているかを表す値を返す。
<P>




UUID は 16 バイト (128 ビット) 長で、およそ 3.4x10^38 個のユニークな値を与える
(Carl Segan の
<I>Cosmos</I>

によれば、全宇宙にある素粒子の個数は 10^80 だそうである)。



新たに作られた UUID は、ローカルなシステムや外部のシステムによって
過去または未来に生成された/される UUID のいずれとも異なると考えることができる。
<P>







<B>uuid_generate_md5</B>

と
<B>uuid_generate_sha1</B>

関数は MD5 と SHA1 でハッシュされた (予測可能な) UUID を生成する。
これは、名前空間と任意のバイナリ文字列を提供する、よく知られた UUID に基づいている。
この UUID は、RFC-4122 の V3 と V5 の UUID に準拠する。

<A NAME="lbAE">&nbsp;</A>
<H2>返り値</H2>



新たに生成された UUID が、
<I>out</I>

の指すメモリ位置に返される。


<B>uuid_generate_time_safe</B>

は UUID が安全な方法で生成された場合は 0 を返す。
そうでない場合は、-1 を返す。

<A NAME="lbAF">&nbsp;</A>
<H2>準拠</H2>



このライブラリは OSF DCE 1.1 に準拠した UUID を生成する。
また、ハッシュベース UUID V3 と V5 は RFC-4122 に準拠する。

<A NAME="lbAG">&nbsp;</A>
<H2>作者</H2>

Theodore Y. Ts'o

<A NAME="lbAH">&nbsp;</A>
<H2>入手方法</H2>




<B>libuuid</B>

はバージョン 2.15.1 から util-linux パッケージの一部であり、
<A HREF="https://www.kernel.org/pub/linux/utils/util-linux/">https://www.kernel.org/pub/linux/utils/util-linux/</A>
から入手できる。

<A NAME="lbAI">&nbsp;</A>
<H2>関連項目</H2>

<B><A HREF="../man1/uuidgen.1.html">uuidgen</A></B>(1),

<B><A HREF="../man3/uuid.3.html">uuid</A></B>(3),

<B><A HREF="../man3/uuid_clear.3.html">uuid_clear</A></B>(3),

<B><A HREF="../man3/uuid_compare.3.html">uuid_compare</A></B>(3),

<B><A HREF="../man3/uuid_copy.3.html">uuid_copy</A></B>(3),

<B><A HREF="../man3/uuid_is_null.3.html">uuid_is_null</A></B>(3),

<B><A HREF="../man3/uuid_parse.3.html">uuid_parse</A></B>(3),

<B><A HREF="../man3/uuid_time.3.html">uuid_time</A></B>(3),

<B><A HREF="../man3/uuid_unparse.3.html">uuid_unparse</A></B>(3),

<B><A HREF="../man8/uuidd.8.html">uuidd</A></B>(8)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">返り値</A><DD>
<DT><A HREF="#lbAF">準拠</A><DD>
<DT><A HREF="#lbAG">作者</A><DD>
<DT><A HREF="#lbAH">入手方法</A><DD>
<DT><A HREF="#lbAI">関連項目</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 13:59:43 GMT, May 02, 2020
</BODY>
</HTML>
