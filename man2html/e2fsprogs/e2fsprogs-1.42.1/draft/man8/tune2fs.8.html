<HTML>
  <HEAD>
  <META CHARSET="UTF-8"/>
  <META HTTP-QUIV="Content-Type" CONTENT="text/html; charset=UTF-8"/>
  <LINK REL="stylesheet" TYPE="text/css"
	    HREF="../../../../css/jm-draft.css"/>
  <TITLE>Manpage of TUNE2FS</TITLE>
</HEAD><BODY>
<H1>TUNE2FS</H1>
Section: Maintenance Commands (8)<BR>Updated: February 2012<BR><A HREF="#index">Index</A>
<A HREF="https://github.com/ysatoautonomous/jm-draft/wiki">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>

tune2fs - ext2/ext3/ext4 ファイルシステムのパラメータを調整する
<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>tune2fs</B> [ <B>-l</B> ] [ <B>-c</B> <I>max-mount-counts</I> ] [ <B>-e</B>
<I>errors-behavior</I> ] [ <B>-f</B> ] [ <B>-i</B> <I>interval-between-checks</I> ] [ <B>-j</B>
] [ <B>-J</B> <I>journal-options</I> ] [ <B>-m</B> <I>reserved-blocks-percentage</I> ] [
<B>-o</B> [^]mount-options<I>[,...]</I> ] [ <B>-r</B> <I>reserved-blocks-count</I> ] [ <B>-s</B>
<I>sparse-super-flag</I> ] [ <B>-u</B> <I>user</I> ] [ <B>-g</B> <I>group</I> ] [ <B>-C</B>
<I>mount-count</I> ] [ <B>-E</B> <I>extended-options</I> ] [ <B>-L</B> <I>volume-name</I> ] [
<B>-M</B> <I>last-mounted-directory</I> ] [ <B>-O</B> [^]<I>feature</I>[,...] ] [ <B>-Q</B>
<I>quota-options</I> ] [ [ <B>-T</B> <I>time-last-checked</I> ] [ <B>-U</B> <I>UUID</I> ] device
<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>

システム管理者は <B>tune2fs</B> により Linux ext2, ext3, ext4
ファイルシステムの様々なパラメータを調整できる。現在サポートされているオプションは、<B><A HREF="../man8/tune2fs.8.html">tune2fs</A></B>(8) プログラムの <B>-l</B>
オプション、または <B><A HREF="../man8/dumpe2fs.8.html">dumpe2fs</A></B>(8) プログラムで表示できる。
<P>

<I>device</I> ファイル名 (例: /dev/sda1) で指定できる。また、LABEL、UUID で
&quot;<B>LABEL=</B><I>volume-name</I>&quot; または &quot;<B>UUID=</B><I>uuid</I>&quot; (例: LABEL=home または
UUID=e40486c6-84d5-4f2f-b99c-032281799c9d) のように指定できる。
<A NAME="lbAE">&nbsp;</A>
<H2>オプション</H2>

<DL COMPACT>
<DT><B>-c</B><I> max-mount-counts</I><DD>
<B><A HREF="../man8/e2fsck.8.html">e2fsck</A></B>(8)  がファイルシステムのチェックを行うマウント回数を設定する。 <I>max-mount-counts</I> が 0 または -1
の場合、 <B><A HREF="../man8/e2fsck.8.html">e2fsck</A></B>(8)  とカーネルはファイルシステムのマウント回数を考慮しない。
<P>
ジャーナリングファイルシステムを使っている場合、 ファイルシステムを強制的にチェックするマウント回数を ファイルシステムごとにちょっとずつ変えておけば、
すべてのファイルがいっぺんにまとめてチェックされるのを 避けることができる。
<P>
マウント回数に依存したチェックを完全に停止してしまうなら、
その影響を慎重に考えておくべきである。
ディスクドライブ、ケーブル、メモリの故障やカーネルのバグによって、
マークされたりエラーが出ることもなく、ファイルシステムが破壊されることもあり得る。
ファイルシステムにジャーナリング機能を使っていると、ファイルシステムに
壊れたというマークが付けられることは <B>絶対にない</B> ので、
通常ジャーナリングファイルシステムはチェックされない。
この場合でも、カーネルがファイルシステムエラーを検知すれば、
次のブート時に fsck が実行されるが、
この時点ではデータ喪失を防ぐにはもう遅すぎるかもしれない。
<P>
時間に依存したチェックを行う <B>-i</B> オプションも参照すること。
<DT><B>-C</B><I> mount-count</I><DD>
ファイルシステムがマウントされた回数を設定する。 <B>-c</B> オプションで設定された最大マウント回数の パラメータより大きな値が設定されると、
<B><A HREF="../man8/e2fsck.8.html">e2fsck</A></B>(8)  は次のブート時に、そのファイルシステムをチェックする。
<DT><B>-e</B><I> error-behavior</I><DD>
エラーが発生した時のカーネルの挙動を変更する。 いずれにしてもファイルシステムにエラーが起こると、 次のブート時には必ず <B><A HREF="../man8/e2fsck.8.html">e2fsck</A></B>(8)
がそのファイルシステムをチェックする。 <I>error-behavior</I> に指定できるのは次の通り。
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>continue</B><DD>
通常の実行を継続する。
<DT><B>remount-ro</B><DD>
ファイルシステムを read-only でマウントしなおす。
<DT><B>panic</B><DD>
カーネルパニックを起こす。
</DL>
</DL>

<DT><B>-E</B><I> extended-options</I><DD>
ファイルシステムの拡張オプションを設定する。拡張オプションはカンマ区切りで、イコール ('=')
を使って引数を指定できる。以下の拡張オプションがサポートされている。
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>clear_mmp</B><DD>
(もし存在すれば) MMP ブロックをリセットして、クリーンな状態に戻す。デバイスが現在マウントされておらず、fsck
されているのが確実な場合にのみ使うべきである。さもないと典型的なファイルシステムの破損が起こる可能性がある。'-f' を指定する必要がある。
<DT><B>mmp_update_interval=</B><I>interval</I><DD>
MMP 更新間隔の初期値を <I>interval</I> 秒にする。<I>interval</I> を 0 に設定すると、デフォルトの更新間隔を使う。間隔は 300
秒より短くしなければならない。<B>mmp</B> feature を有効にしておく必要がある。
<DT><B>stride=</B><I>stride-size</I><DD>
RAID アレイのファイルシステムに対して、<I>stride-size</I>
ファイルシステムブロックに設定する。次のディスクに移動するまで、このブロック数で読み書きされ、<I>チャンクサイズ</I>とも呼ばれる。このサイズはビットマップのようなファイルシステムメタデータの配置に影響する。<B><A HREF="../man2/mke2fs.2.html">mke2fs</A></B>(2)
の実行時にメタデータを 1 つのディスクに置くと、性能を害する可能性がある。また、このサイズはブロックアロケータでも使われる。
<DT><B>stripe_width=</B><I>stripe-width</I><DD>
RAID アレイのファイルシステムに対して、1 ストライプあたりのファイルシステムブロックを　<I>stripe-width</I>
に設定する。一般的にこのサイズは、 N を RAID のデータ格納ディスクとしたとき、stride-size * N である (例えば、RAID 5
N+1、RAID 6 N+2 である)。これにより、データが書き込まれる時に、ブロックアロケータが RAID
ストライプにパリティの読み込み-修正-書き込みを行うのを防止する。
<DT><B>hash_alg=</B><I>hash-alg</I><DD>
ハッシュ付き b-tree ディレクトリを含む新しいファイルシステムで使われるデフォルトのハッシュアルゴリズムを設定する。指定可能なアルゴリズムは
<I>legacy</I>, <I>half_md4</I>, <I>tea</I> である。
<DT><B>mount_opts=</B><I>mount_option_string</I><DD>
ファイルシステムをマウントする際の、デフォルトのマウントオプションを設定する。<B>-o</B>
オプションで指定されるビットマスクベースのデフォルトのマウントオプションと異なり、<I>mount_option_string</I> は最大 63
バイトの任意の文字列で、スーパーブロックに格納される。
<DT><DD>
ext4 ファイルシステムドライバーは、<B><A HREF="../man8/mount.8.html">mount</A></B>(8)
プログラムから渡されるマウントオプションを解析する前に、最初にビットマスクベースのデフォルトオプションを適用し、次に
<I>mount_option_string</I> を解析する。
<DT><DD>
このスーパーブロック設定は、2.6.35 以降のカーネルでのみサポートされ、ext2 と ext3 ファイルシステムドライバーではサポートされない。
<DT><B>test_fs</B><DD>
ファイルシステムスーパーブロックのフラグを設定し、ext4dev ファイルシステムのような、実験的なカーネルコードを使ってマウントするようにする。
<DT><B>^test_fs</B><DD>
test_fs フラグをクリアし、ファイルシステムを製品レベルのコードのみでマウントする。
</DL>
</DL>

<DT><B>-f</B><DD>
エラーが起きたときでも tune2fs に動作を完了させる。 このオプションは、外部ジャーナルを使っているファイルシステム
(あるいは壊れてそう見えるようになってしまったファイルシステム) から、 外部ジャーナルが見えない場合に <B>has_journal</B>
ファイルシステム属性を削除するのに便利である。
<P>
<B>警告:</B> クリーンにアンマウントされなかったファイルシステムに対して ジャーナルを一度もリプレイしないまま、
その外部ジャーナルをファイルシステムから切り離してしまうと、 重大なデータ喪失やファイルシステムの破壊をもたらすかもしれない。
<DT><B>-g</B><I> group</I><DD>
予約 (reserved) ファイルシステムブロックを利用できるグループを設定する。 <I>group</I> パラメータには GID
を数値で指定することも、グループ名を指定することもできる。 グループ名が指定された場合は、スーパーブロックに格納される前に GID の数値に変換される。
<DT><B>-i  </B><I>interval-between-checks</I>[<B>d</B>|<B>m</B>|<B>w</B>]<DD>
ファイルシステムをチェックする最大の時間間隔を設定する。 数値のみ、もしくは末尾に <B>d</B> を付けると
<I>interval-between-checks</I> は「日」と解釈され、 <B>m</B>, <B>w</B> はそれぞれ「月」「週」と解釈される。 0
を指定すると、時間依存のチェックはしなくなる。
<P>
<B>-c</B> (マウント回数に依存しない)、または <B>-i</B> (時間に依存しない) チェックを有効にして、ファイルシステムの定期的な
<B><A HREF="../man8/e2fsck.8.html">e2fsck</A></B>(8) でのフルチェックを有効にすることを推奨する。そうしないと、(ディスク、ケーブル、メモリの故障や、カーネルバグによる)
ファイルシステムの破損が知らされず、最終的にデータの喪失や破損につながる。
<DT><B>-j</B><DD>
ext3 ジャーナルをファイルシステムに追加する。 -J オプションが指定されていない場合は、 デフォルトのジャーナルパラメータが用いられ、
(ファイルシステムのサイズに対して)  適切な大きさのジャーナルを作成してファイルシステムに格納する。 ジャーナルを実際に使用するためには、 ext3
をサポートするカーネルが必要である。
<DT><DD>
このオプションを使用して、 マウントされたファイルシステム上にジャーナルを作成すると、 不変 (immutable) ファイル <B>.journal</B>
がファイルシステムのトップディレクトリに作成される。 これはファイルシステムがマウントされている間に ジャーナル inode
を安全に作成する唯一の方法だからである。 ext3 ジャーナルは可視であるが、 ファイルシステムがマウントされている間に
削除したり修正したりするのは安全ではない。 そのためジャーナルファイルは不変にされている。 アンマウントされたファイルシステムをチェックする場合、
<B><A HREF="../man8/e2fsck.8.html">e2fsck</A></B>(8)  は自動的に <B>.journal</B> ファイルを可視でない予約済みジャーナル inode に移動する。
ルートファイルシステム以外の全てのファイルシステムに対して、 次のリブートサイクルで、これが自動的に当然行われるべきである。 ルートファイルシステムは
read-only でマウントされるので、 この遷移を有効にするためには、 <B><A HREF="../man8/e2fsck.8.html">e2fsck</A></B>(8)
をレスキュー用フロッピーから実行しなければならない。
<DT><DD>
Debian のようないくつかのディストリビューションでは、 レスキュー用フロッピーを使って ext3 ジャーナルを
ルートファイルシステムに追加する必要がないように、 <B>/etc/fstab</B> ファイルで ext3
ファイルシステムをルートファイルシステムに指定しておくと、 初期 RAM ディスクが使用されたときに、 initrd スクリプトが自動的に ext2
ルートファイルシステムを ext3 に変換する。
<DT><B>-J</B> journal-options<DD>
デフォルトの ext3 ジャーナルパラメータを変更する。 ジャーナルオプションはコンマで区切り、引き数がある場合には 「=
(イコール)」記号を使って指定する。 以下のジャーナルオプションがサポートされている:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>size=</B><I>journal-size</I><DD>
サイズ <I>journal-size</I> メガバイトのジャーナルを作成してファイルシステムに格納する。 ジャーナルのサイズは最低 1024
ファイルシステムブロックである (例えば、1kB のブロックを使っている場合は 1 MB、 4kB のブロックを使っている場合は 4 MB である)。
また、ファイルシステムブロックは 102,400 未満でなければならない。 ファイルシステムには、指定したサイズのジャーナルを作成するために
十分な空きスペースがなくてはならない。
<DT><B>device=</B><I>external-journal</I><DD>
<I>external-journal</I> にあるジャーナルブロックデバイスにファイルシステムを付加する。 外部ジャーナルは、コマンド
<DT><DD>
<B>mke2fs -O journal_dev</B> <I>external-journal</I>
<DT><DD>
を使い、前もって作成されていなければならない。 <I>external-journal</I> は、それを使うファイルシステムと同じブロックサイズで
フォーマットされていなければならない。 1 つの外部ジャーナルに複数のファイルシステムを付加することは、 (訳注: ファイルシステム自体では)
サポートしているが、 Linux カーネルと <B><A HREF="../man8/e2fsck.8.html">e2fsck</A></B>(8)  は現在のところ共有外部ジャーナルをサポートしていない。
<DT><DD>
デバイス名を直接指定する代わりに、
<B>LABEL=</B><I>label</I> や <B>UUID=</B><I>UUID</I> という形式で <I>external-journal</I> を指定することもできる。
この形式では、外部ジャーナルの場所を、 ジャーナルの先頭の ext2 スーパーブロックに格納されている
UUID やボリュームラベルで指定する。 ジャーナルデバイスのボリュームラベルと
UUID を表示するには、 <B><A HREF="../man8/dumpe2fs.8.html">dumpe2fs</A></B>(8) を使うこと。 <B><A HREF="../man8/tune2fs.8.html">tune2fs</A></B>(8)  の <B>-L</B> オプションも参照のこと。
</DL>
</DL>

<DT><DD>
ひとつのファイルシステムに対しては、 <B>size</B> オプションと <B>device</B> オプションのどちらか一方しか指定できない。
<DT><B>-l</B><DD>
このプログラムで設定可能な値を含むファイルシステムスーパーブロックの内容を表示する。
<DT><B>-L</B><I> volume-label</I><DD>
ファイルシステムのボリュームラベルを設定する。 ext2 ファイルシステムラベルは最大 16 文字まで指定できる。 <I>volume-label</I> が
16 文字より長いと <B>tune2fs</B> は超過分を切捨て、警告メッセージを出力する。 ボリュームラベルは <B><A HREF="../man8/mount.8.html">mount</A></B>(8),
<B><A HREF="../man8/fsck.8.html">fsck</A></B>(8), <B>/etc/<A HREF="../man5/fstab.5.html">fstab</A></B>(5)  (まだあるかも) において、 <B>/dev/hda5</B>
のようなブロックスペシャルデバイス名の代わりに、 <B>LABEL=</B><I>volume_label</I> という形式で指定して使うことができる。
<DT><B>-m</B><I> reserved-blocks-percentage</I><DD>
特権プロセスによって確保されるファイルシステムの割合を %
で設定する。特権プロセスが使うファイルシステムブロック数を予約して、ファイルシステムの断片化を避けて、非特権プロセスがファイルシステムに書き込むのを防止して、<B><A HREF="../man8/syslogd.8.html">syslogd</A></B>(8)
のようなシステムデーモンが正常に動き続けるのを可能にする。通常、予約ブロックのデフォルトは 5% である。
<DT><B>-M</B><I> last-mounted-directory</I><DD>
ファイルシステムを最後にマウントしたディレクトリを設定する。
<DT><B>-o</B> [^]<I>mount-option</I>[,...]<DD>
指定されたデフォルトのマウントオプションを ファイルシステムにセット/クリアする。 デフォルトのマウントオプションは、 <B>/etc/<A HREF="../man5/fstab.5.html">fstab</A></B>(5)
または <B><A HREF="../man8/mount.8.html">mount</A></B>(8)  のコマンドライン引き数で指定される マウントオプションで上書きできる。 古いカーネルは、この属性をサポートしていない。
特に 2.4.20 より前のカーネルは、 スーパーブロックにあるデフォルトのマウントオプションを ほぼ確実に無視する。
<DT><DD>
属性をコンマで区切ることにより、 1 つ以上のマウントオプションをクリア/セットできる。 キャレット文字 ('^') を前につけたマウントオプションは、
ファイルシステムのスーパーブロックからクリアされる。 前置文字のないマウントオプションと プラス文字 ('+') を前につけたマウントオプションは、
ファイルシステムに追加される。
<DT><DD>
<B>tune2fs</B> を使ってセット/クリアできるマウントオプションは以下の通り:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>debug</B><DD>
このファイルシステムのデバッグコードを有効にする。
<DT><B>bsdgroups</B><DD>
新しいファイルを作成するときに、BSD の動作をエミュレートする。 新規作成されるファイルは、 自身が作成されるディレクトリのグループ ID を使う。
標準的な System V の動作をデフォルトとする。 ディレクトリに setgid ビットセットがない場合、
新規作成されたファイルはカレントプロセスの fsgid を使う。 ディレクトリに setgid ビットセットがある場合、
新規作成されたファイルは親ディレクトリのグループ ID を使い、 新規作成されたのがディレクトリならば、setgid ビットセットも設定する。
<DT><B>user_xattr</B><DD>
ユーザ固有の拡張属性を有効にする。
<DT><B>acl</B><DD>
Posix アクセス制御リスト (Access Control List) を有効にする。
<DT><B>uid16</B><DD>
32 ビットのユーザ ID とグループ ID を無効にする。 これは 16 ビットの値のみを格納したり想定したりする
古いカーネルとの相互運用のためにある。
<DT><B>journal_data</B><DD>
ジャーナリングを有効にしてファイルシステムがマウントされている場合、 (メタデータだけでなく) 全てのデータは
メインのファイルシステムに書き込まれる前に ジャーナルにコミットされる。
<DT><B>journal_data_ordered</B><DD>
ジャーナリングを有効にしてファイルシステムがマウントされている場合、 メタデータがジャーナルにコミットされる前に、
全てのデータをメインのファイルシステムに強制的に直接書き込む。
<DT><B>journal_data_writeback</B><DD>
ジャーナリングを有効にしてファイルシステムがマウントされている場合、 メタデータがジャーナルにコミットされた後に、
データをメインのファイルシステムに書き込む。 これはスループットを向上させるが、 クラッシュしてジャーナルによる回復をした後で、
ファイルに古いデータが現れるのを許してしまう。
<DT><B>nobarrier</B><DD>
ジャーナルのバリア操作を無効化してファイルシステムをマウントする (このオプションは、2.6.35 以降のカーネルの ext4
ファイルシステムでのみサポートされる)。
<DT><B>block_validity</B><DD>
block_validity
オプションを有効化して、ファイルシステムをマウントする。これは、ファイルシステムの読み書きの後に、追加のチェックを行う。このオプションは、inode
テーブルまたはブロックグループディスクリプタのファイルシステムダメージ部分を上書きすることによるメタデータブロックの破損を防止する。これはメモリと
CPU のオーバーヘッドを大きくするので、デバッグのためだけに有効化される (このオプションは、2.6.35 以降のカーネルの ext4
ファイルシステムでのみサポートされる)。
<DT><B>discard</B><DD>
discard オプションを付けてファイルシステムをマウントする。このオプションは、いくつかのストレージデバイスのドライバー
(企業レベルのストレージアレイで利用可能な SSD とシンプロビジョニングドライバー) で trim/discard feature
を使うようにし、削除されたファイルに紐付くブロックをストレージデバイスが他の目的に使えるようにする (このオプションは、2.6.35 以降のカーネルの
ext4 ファイルシステムでのみサポートされる)。
<DT><B>nodelalloc</B><DD>
nodelalloc マウントオプションを付けてファイルシステムをマウントする。このオプションは delayed allocation feature
を無効にする (このオプションは、2.6.35 以降のカーネルの ext4 ファイルシステムでのみサポートされる)。
</DL>
</DL>

<DT><B>-O</B> [^]<I>feature</I>[,...]<DD>
指定したファイルシステム属性 (オプション) をセット/クリアする。 コンマで区切ることにより、 2
つ以上のファイルシステム属性をクリアまたはセットできる。 キャレット文字 ('^') を前においたファイルシステム属性は、
ファイルシステムのスーパーブロックからクリアされる。 前置文字のないファイルシステム属性と プラス文字 ('+') を前においたファイルシステム属性は、
ファイルシステムにセットされる。
<DT><DD>
<B>tune2fs</B> を使ってセット/クリアできるファイルシステム属性は以下の通り:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>dir_index</B><DD>
ハッシュ B ツリーを使い、 ファイルが多いディレクトリ内での検索を高速化する。
<DT><B>dir_nlink</B><DD>
1 ディレクトリあたり 65000 より多いサブディレクトリを利用可能にする。
<DT><B>filetype</B><DD>
ディレクトリエントリにファイルタイプ情報を格納する。
<DT><B>flex_bg</B><DD>
ブロックグループのビットマップと inode テーブルを、ストレージメディアの任意の場所に置けるようにする。<B>tune2fs</B> は inode
テーブルとアロケーションビットマップの場所を再変更せず、<B><A HREF="../man8/mke2fs.8.html">mke2fs</A></B>(8)
が新たにフォーマットされたファイルシステムを作成する際に、<B>flex_bg</B> を有効にされていると再変更が行われる。
<DT><B>has_journal</B><DD>
ジャーナルを使うことにより、 異常なシャットダウンが起こってもファイルシステムの一貫性を保証する。 このファイルシステム属性をセットするのは、
<B>-j</B> オプションを使うのと等しい。
<DT><B>large_file</B><DD>
ファイルシステムが 2GB より大きいファイルを格納できる。(最近のカーネルは、2GB より大きいファイルが作られるときに、この feature
を自動的に設定する。)
<DT><B>resize_inode</B><DD>
ブロックグループディスクリプタテーブルが将来大きくなるのに備えて領域を確保する。<B>tune2fs</B> はこのファイルシステム feature
のクリアのみをサポートしている。
<DT><B>mmp</B><DD>
複数マウント防止 (multiple mount protection, MMP) feature を有効または無効にする。MMP
は、ファイルシステムが複数マウントされるのを防止し、共有ストレージ環境で役立つ。
<DT><B>sparse_super</B><DD>
大きなファイルシステム上でディスク使用量を少なくするために、 バックアップスーパーブロックの数を制限する。
<DT><B>uninit_bg</B><DD>
カーネルがビットマップと inode テーブルを初期化と、ファイルシステムの未使用 inode
のハイウォーターマークの保持を可能にして、<B><A HREF="../man8/e2fsck.8.html">e2fsck</A></B>(8) の時間を削減する。この feature を有効にした後の初めて e2fsck
を実行では、完全に実行するのに時間がかかる。しかし、その後の e2fsck では、ファイルシステムの使用量に応じて、元の時間の一部で済む。
</DL>
</DL>

<DT><DD>
<B>sparse_super</B>, <B>uninit_bg</B>, <B>filetype</B>, <B>resize_inode</B> ファイルシステム
features を設定、またはクリアした後、<B><A HREF="../man8/e2fsck.8.html">e2fsck</A></B>(8)
をファイルシステムに実行し、ファイルシステムを一貫した状態に戻さなければならない。<B>tune2fs</B> は、必要に応じて、システム管理者が
<B><A HREF="../man8/e2fsck.8.html">e2fsck</A></B>(8) を実行する必要がある旨のメッセージを表示する。<B>dir_index</B> feature を設定した後、<B>e2fsck -D</B>
を実行し、既存のディレクトリをハッシュ付き B-tree 形式に変換する必要がある。特定のファイルシステム feature を有効にすると、その
feature をサポートしていないカーネルでファイルシステムをマウントできなくなる。特に <B>uninit_bg</B> と <B>flex_bg</B>
feature は、ext4 ファイルシステムでのみサポートされる。
<DT><B>-p</B><I> mmp_check_interval</I><DD>
MMP チェック間隔を設定した秒数にする。デフォルトは 5 秒である。
<DT><B>-r</B><I> reserved-blocks-count</I><DD>
予約ファイルシステムブロックの量をブロック数で設定する。
<DT><B>-Q</B><I> quota-options</I><DD>
'quota' feature をスーパーブロックに設定し、指定したクォータタイプのクォータファイルを動作させる。クォータオプションは以下の 1
つ以上を設定できる。
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><B>[^]usrquota</B><DD>
スーパーブロックのユーザクォータ inode を設定またはクリアする。<B>[^]grpquota</B> スーパーブロックのグループクォータ inode
を設定またはクリアする。
<DT><B>-T</B><I> time-last-checked</I><DD>
ファイルシステムが最後に <B>e2fsck</B> によってチェックされた時刻を設定する。
時刻は現在 (ローカル) のタイムゾーンで解釈される。
このオプションは、Logical Volume Manager を使い、
整合性の取れている状態のファイルシステムのスナップショットを取っておき、
忙しくない時間帯にそのファイルシステムがハードウェア障害などによって
壊れていないかを調べるようなスクリプトで用いると便利である。
ファイルシステムがクリーンなら、このオプションを使って
オリジナルのファイルシステムの最終チェック時刻を設定すればよい。
<I>time-last-checked</I> の書式は、国際時刻書式に、オプションの時刻指定子を
加えたもので、YYYYMMDD[HH[MM[SS]]] である。
<B>now</B> というキーワードも利用でき、
この場合は最終チェック時刻は現在の時刻に設定される。
<DT><B>-u</B><I> user</I><DD>
予約ファイルシステムブロックを利用できるユーザを設定する。 <I>user</I> は UID を数値で指定することも、ユーザ名で指定することもできる。
グループ名が指定された場合は、スーパーブロックに格納される前に UID の数値に変換される。
<DT><B>-U</B><I> UUID</I><DD>
UUID (universally unique identifier: 汎システム的に他とは重ならない識別子) を <I>UUID</I> に設定する。
UUID はハイフンで区切られた 16 進数の列で、 &quot;c1b9d5a2-f162-11cf-9ece-0020afc76f16&quot; のような形式である。
<I>UUID</I> パラメータは以下のいずれか 1 つである:
<DL COMPACT><DT><DD>
<DL COMPACT>
<DT><I>clear</I><DD>
ファイルシステムの UUID をクリアする。
<DT><I>random</I><DD>
新しい UUID をランダムに生成する。
<DT><I>time</I><DD>
新しい UUID を時刻をもとに生成する。
</DL>
</DL>

<DT><DD>
UUID は <B><A HREF="../man8/mount.8.html">mount</A></B>(8), <B><A HREF="../man8/fsck.8.html">fsck</A></B>(8), <B>/etc/<A HREF="../man5/fstab.5.html">fstab</A></B>(5)  (まだあるかも) において、
<B>/dev/hda1</B> のようなブロックスペシャルデバイス名の代わりに、 <B>UUID=</B><I>uuid</I> という形式で指定して使うことができる。
<DT><DD>
より詳しい情報は <B><A HREF="../man8/uuidgen.8.html">uuidgen</A></B>(8)  を参照すること。 <I>/dev/random</I> や <I>/dev/urandom</I>
のような優れた乱数発生器がシステムに存在しない場合、 <B>tune2fs</B> はランダムに生成した UUID ではなく、 時刻に基づいた UUID
を自動的に使用する。
</DL>
</DL>
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>バグ</H2>

現時点では見付かっていない。しかし、バグがないという意味ではない。
<A NAME="lbAG">&nbsp;</A>
<H2>作者</H2>

<B>tune2fs</B> は、Remy Card &lt;<A HREF="mailto:Remy.Card@linux.org">Remy.Card@linux.org</A>&gt; によって作成された。 現在は Theodore
Ts'o &lt;<A HREF="mailto:tytso@alum.mit.edu">tytso@alum.mit.edu</A>&gt; によってメンテナンスされている。 <B>tune2fs</B> は Thodre Ts'o
&lt;<A HREF="mailto:tytso@mit.edu">tytso@mit.edu</A>&gt; によって作成された ext2fs ライブラリを使用している。 このマニュアルは
&lt;<A HREF="mailto:chk@data-hh.Hanse.de">chk@data-hh.Hanse.de</A>&gt; によって作成された。 時間に依存するチェックは Uwe Ohse
&lt;<A HREF="mailto:uwe@tirka.gun.de">uwe@tirka.gun.de</A>&gt; によって付加された。
<A NAME="lbAH">&nbsp;</A>
<H2>入手方法</H2>

<B>tune2fs</B> は e2fsprogs パッケージの一部であり、 <A HREF="http://e2fsprogs.sourceforge.net">http://e2fsprogs.sourceforge.net</A>
から入手できる。
<A NAME="lbAI">&nbsp;</A>
<H2>関連項目</H2>

<B><A HREF="../man8/debugfs.8.html">debugfs</A></B>(8), <B><A HREF="../man8/dumpe2fs.8.html">dumpe2fs</A></B>(8), <B><A HREF="../man8/e2fsck.8.html">e2fsck</A></B>(8), <B><A HREF="../man8/mke2fs.8.html">mke2fs</A></B>(8)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">オプション</A><DD>
<DT><A HREF="#lbAF">バグ</A><DD>
<DT><A HREF="#lbAG">作者</A><DD>
<DT><A HREF="#lbAH">入手方法</A><DD>
<DT><A HREF="#lbAI">関連項目</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 18:50:56 GMT, March 26, 2020
</BODY>
</HTML>
