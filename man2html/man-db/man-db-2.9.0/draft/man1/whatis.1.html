<HTML>
  <HEAD>
  <META CHARSET="UTF-8"/>
  <META HTTP-QUIV="Content-Type" CONTENT="text/html; charset=UTF-8"/>
  <LINK REL="stylesheet" TYPE="text/css"
	    HREF="../../../../css/jm-draft.css"/>
  <TITLE>Manpage of WHATIS</TITLE>
</HEAD><BODY>
<H1>WHATIS</H1>
Section: Manual pager utils (1)<BR>Updated: 2019-10-23<BR><A HREF="#index">Index</A>
<A HREF="https://github.com/ysatoautonomous/jm-draft/wiki">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>名前</H2>


whatis - マニュアルページの要約を表示する

<A NAME="lbAC">&nbsp;</A>
<H2>書式</H2>

<B>whatis</B>

[<B>-dlv?V</B>]

[<B>-r</B>|<B>-w</B>]
[<B>-s</B>

<I>list</I>]

[<B>-m</B>

<I>system</I>[,...]]

[<B>-M</B>

<I>path</I>]

[<B>-L</B>

<I>locale</I>]

[<B>-C</B>

<I>file</I>]

<I>name</I>

...

<A NAME="lbAD">&nbsp;</A>
<H2>説明</H2>


それぞれのマニュアルページには、先頭に短い要約文が書かれている。





<B>whatis</B>

はマニュアルページの名前を検索し、
<I>name</I>

にマッチしたすべてのマニュアルから、この要約文を取り出して表示する。
<P>





<I>name</I>

にはワイルドカード
(<B>-w</B>)

や正規表現
(<B>-r</B>)

を用いることができる。




これらのオプションを用いた際には、
<I>name</I>

をクォートするか、特殊キャラクタをエスケープ (\) して、
シェルによって解釈されないようにする必要があるかもしれない。
<P>




<B>index</B>

データベースが検索の際に用いられ、これは
<B>mandb</B>

プログラムで更新される。


インストール方法によるが、
<B>mandb</B>

が定期的な cron ジョブで実行されているかもしれないし、
新しいマニュアルページをインストールしたときに
<B>mandb</B>

を手動で実行する必要があるかもしれない。





古いスタイルの
<B>whatis</B>

テキストデータベースを、対応する
<B>index</B>

データベースから作りたい場合には、以下のようなコマンドを実行すればよい。
<P>
<B>whatis -M</B>

<I>manpath</I>

<B>-w  '*' | sort &gt;</B>

<I>manpath/whatis</I>

<P>




ここで
<I>manpath</I>

には
<I>/usr/man</I>

のような、マニュアルページの階層 (hierarchy) を指定する。

<A NAME="lbAE">&nbsp;</A>
<H2>オプション</H2>

<DL COMPACT>
<DT><B>-d</B>, <B>--debug</B>

<DD>

デバッグ情報を表示する。
<DT><B>-v</B>, <B>--verbose</B>

<DD>

詳細な警告メッセージを表示する。
<DT><B>-r</B>, <B>--regex</B>

<DD>



<I>name</I>

を正規表現として解釈する。



<I>name</I>

がページ名の一部分にマッチすれば、マッチしたとみなされる。



このオプションを指定すると、データベース検索の性質上、
<B>whatis</B>

の動作が多少遅くなる。
<DT><B>-w</B>, <B>--wildcard</B>

<DD>



<I>name</I>

をシェル形式のワイルドカードを含むパターンとして解釈する。



マッチするためには、展開された
<I>name</I>

がページ名の全体にマッチしなければならない。



このオプションを指定すると、データベース検索の性質上、
<B>whatis</B>

の動作が多少遅くなる。
<DT><B>-l</B>, <B>--long</B>

<DD>

出力を端末幅で切り詰めない。




通常は、適切に書かれていない
<B>名前</B>

セクションの見にくさを避けるため、端末幅で切り詰める。
<DT><B>-s</B> <I>list/</I>, <B>--sections=</B><I>list/</I>, <B>--section=</B><I>list</I><DD>

指定したマニュアルセクションのみを検索する。


<I>list</I>

はコロンまたはコンマ区切りのセクションのリストである。




<I>list</I>

のエントリが単純なセクション、例えば &quot;3&quot; である場合、
表示される要約文のリストには、&quot;3&quot;, &quot;3perl&quot;, &quot;3x&quot; などの
セクションのページが含まれる。




一方で
<I>list</I>

のエントリに拡張部分がある場合、例えば &quot;3perl&quot; の場合、
表示される要約文のリストには、マニュアルセクションに厳密にマッチ
したページのみが含まれる。
<DT><B>-m</B> <I>system</I>[,...], <B>--systems=</B><I>system</I>[,...]<DD>


現在のシステムから、他のオペレーティングシステムについてのマニュアルに
アクセスできる場合には、このオプションをつけるとそれらのマニュアルが
検索される。




NewOS のマニュアルページを検索する場合には、
<B>-m</B>

<B>NewOS</B>

のようなオプションを指定する。
<P>



<I>system</I>

には複数のオペレーティングシステムをコンマで区切った形式で指定できる。




ネイティブのオペレーティングシステムの
マニュアルページ名を検索の対象に含めるためには、システム名
<B>man</B>

を引き数文字列に加える。



このオプションは
$<B>SYSTEM</B>

環境変数を上書きする。
<DT><B>-M&nbsp;</B><I>path</I><B></B>,&nbsp;<B>--manpath=</B><I>path</I>

<DD>


検索対象にするマニュアルページの階層を変えたい場合、それらをコロンで
区切った形式で指定する。








デフォルトでは、
<B>whatis</B>

は環境変数
$<B>MANPATH</B>

を用いる。これが空だったり設定されていなかった場合には、
$<B>PATH</B>

環境変数に基づいて、適切な manpath を決めようと試みる。


このオプションは
$<B>MANPATH</B>

の内容を上書きする。
<DT><B>-L&nbsp;</B><I>locale</I><B></B>,&nbsp;<B>--locale=</B><I>locale</I>

<DD>







<B>whatis</B>

は通常、カレント・ロケールを C 関数
<B><A HREF="../man3/setlocale.3.html">setlocale</A></B>(3)

を呼ぶことによって決定しようとする。
この関数は
$<B>LC_MESSAGES</B>

や
$<B>LANG</B>

などを含む様々な環境変数を調べる。




この値を一時的に上書きするには、このオプションを使って
<B>whatis</B>

に直接
<I>locale</I>

文字列を渡せば良い。


このオプションが効力を持つのは、実際のページの検索が始まってから
であることに注意すること。


ヘルプメッセージなどの出力は、起動前に定まっていたロケールで
出力される。
<DT><B>-C&nbsp;</B><I>file</I><B></B>,&nbsp;<B>--config-file=</B><I>file</I>

<DD>


デフォルトの
<I>~/.manpath</I>

ではなく、ユーザー設定ファイルを使用する。
<DT><B>-?</B>, <B>--help</B>

<DD>

ヘルプメッセージを表示して、終了する。
<DT><B>--usage</B>

<DD>

簡単な使用法のメッセージを表示して、終了する。
<DT><B>-V</B>, <B>--version</B>

<DD>

バージョン情報を表示する。

</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>返り値</H2>

<DL COMPACT>
<DT><B>0</B>

<DD>

プログラムの実行に成功した。
<DT><B>1</B>

<DD>

使用法、文法、設定ファイルのいずれかにエラーがある。
<DT><B>2</B>

<DD>

実行時エラー。
<DT><B>16</B>

<DD>

指定したキーワードにマッチするものが見つからなかった。

</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>環境変数</H2>

<DL COMPACT>
<DT><B>SYSTEM</B>

<DD>






$<B>SYSTEM</B>

環境変数が設定されている場合には、その内容が
<B>-m</B>

オプションの引き数として指定された場合と同じ効力を持つ。
<DT><B>MANPATH</B>

<DD>




$<B>MANPATH</B>

が設定されていると、その内容は、検索対象とするマニュアルの階層を
コロンで区切ったリストとみなされる。
<DT><B>MANWIDTH</B>

<DD>





$<B>MANWIDTH</B>

が設定されると、端末幅として使われる
(<B>--long</B>

オプションを参照)。





この環境変数が設定されない場合、端末幅は、利用可能であれば、
$<B>COLUMNS</B>

の値と
<B><A HREF="../man2/ioctl.2.html">ioctl</A></B>(2)

を使って計算され、利用可能でない場合は、80 文字にされる。

</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>ファイル</H2>

<DL COMPACT>
<DT><I>/usr/share/man/index.(bt|db|dir|pag)</I>

<DD>



従来形式のグローバルな
<I>index</I>

データベースキャッシュ。
<DT><I>/var/cache/man/index.(bt|db|dir|pag)</I>

<DD>




FHS 互換のグローバルな
<I>index</I>

データベースキャッシュ。
<DT><I>/usr/share/man/.../whatis</I>

<DD>



従来形式の
<B>whatis</B>

テキストデータベース。

</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>関連項目</H2>

<B><A HREF="../man1/apropos.1.html">apropos</A></B>(1),

<B><A HREF="../man1/man.1.html">man</A></B>(1),

<B><A HREF="../man8/mandb.8.html">mandb</A></B>(8)


<A NAME="lbAJ">&nbsp;</A>
<H2>著者</H2>

<PRE>
Wilf. (<A HREF="mailto:G.Wilford@ee.surrey.ac.uk">G.Wilford@ee.surrey.ac.uk</A>).
Fabrizio Polacco (<A HREF="mailto:fpolacco@debian.org">fpolacco@debian.org</A>).
Colin Watson (<A HREF="mailto:cjwatson@debian.org">cjwatson@debian.org</A>).
</PRE>

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">名前</A><DD>
<DT><A HREF="#lbAC">書式</A><DD>
<DT><A HREF="#lbAD">説明</A><DD>
<DT><A HREF="#lbAE">オプション</A><DD>
<DT><A HREF="#lbAF">返り値</A><DD>
<DT><A HREF="#lbAG">環境変数</A><DD>
<DT><A HREF="#lbAH">ファイル</A><DD>
<DT><A HREF="#lbAI">関連項目</A><DD>
<DT><A HREF="#lbAJ">著者</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 14:31:24 GMT, July 01, 2020
</BODY>
</HTML>
